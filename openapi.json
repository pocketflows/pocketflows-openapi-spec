{
  "openapi": "3.0.3",
  "info": {
    "title": "Pocketflows API",
    "version": "0.0.4"
  },
  "servers": [
    {
      "url": "https://api.pocketflows.com",
      "description": "Production server"
    }
  ],
  "paths": {
    "/available_steps": {
      "get": {
        "responses": {
          "200": {
            "description": "A dictionary with a `steps` property which are the available steps for the project",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "steps": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "type": {
                            "type": "string",
                            "description": "The type of the step"
                          },
                          "display_text": {
                            "type": "string",
                            "description": "The displayable name of the step"
                          }
                        },
                        "required": [
                          "type",
                          "display_text"
                        ]
                      },
                      "description": "An array of steps"
                    }
                  },
                  "required": [
                    "steps"
                  ]
                }
              }
            }
          }
        },
        "summary": "List the available steps for a project"
      }
    },
    "/project": {
      "get": {
        "responses": {
          "200": {
            "description": "A `Project` object",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Project"
                }
              }
            }
          }
        },
        "summary": "Retrieve a project"
      }
    },
    "/businesses/{id}/segment_usage": {
      "get": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the business",
            "required": true
          },
          {
            "in": "query",
            "name": "start_time",
            "schema": {
              "type": "string"
            },
            "description": "The start time of the usage period. Provided as a string in ISO 8601 format.",
            "required": false
          },
          {
            "in": "query",
            "name": "end_time",
            "schema": {
              "type": "string"
            },
            "description": "The end time of the usage period. Provided as a string in ISO 8601 format.",
            "required": false
          }
        ],
        "responses": {
          "200": {
            "description": "The segment usage for the business within the time window",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "sms": {
                      "type": "integer",
                      "description": "The number of SMS segments sent"
                    },
                    "mms": {
                      "type": "integer",
                      "description": "The number of MMS segments sent"
                    },
                    "email": {
                      "type": "integer",
                      "description": "The number of email segments sent"
                    },
                    "start_time": {
                      "type": "string",
                      "description": "The start time of the usage period in ISO 8601 format"
                    },
                    "end_time": {
                      "type": "string",
                      "description": "The end time of the usage period in ISO 8601 format"
                    }
                  },
                  "required": [
                    "sms",
                    "mms",
                    "email",
                    "start_time",
                    "end_time"
                  ]
                }
              }
            }
          }
        },
        "summary": "Retrieve the segment usage for a business"
      }
    },
    "/project_defined_events": {
      "post": {
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "event": {
                    "type": "string",
                    "description": "The event name. Likely takes the form `customer.created` or similar"
                  },
                  "display_text": {
                    "type": "string",
                    "description": "The human-readable text for this event. Should grammatically follow \"When...\" e.g. \"a customer is created\""
                  }
                },
                "required": [
                  "event",
                  "display_text"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "The created `ProjectDefinedEvent` object",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProjectDefinedEvent"
                }
              }
            }
          }
        },
        "summary": "Create a project defined event"
      },
      "get": {
        "responses": {
          "200": {
            "description": "A list of `ProjectDefinedEvent` objects",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "project_defined_events": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/ProjectDefinedEvent"
                      },
                      "description": "An array of `ProjectDefinedEvent` objects"
                    }
                  },
                  "required": [
                    "project_defined_events"
                  ]
                }
              }
            }
          }
        },
        "summary": "List all project-defined events"
      }
    },
    "/project_defined_events/{id}": {
      "get": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the `ProjectDefinedEvent` object",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "The `ProjectDefinedEvent` object",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProjectDefinedEvent"
                }
              }
            }
          }
        },
        "summary": "Retrieve a project-defined event"
      },
      "post": {
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "display_text": {
                    "type": "string",
                    "description": "The human-readable text for this event. Should grammatically follow \"When...\" e.g. \"a customer is created\""
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "The updated `ProjectDefinedEvent` object",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProjectDefinedEvent"
                }
              }
            }
          }
        },
        "summary": "Update a project defined event"
      },
      "delete": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the `ProjectDefinedEvent` object",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "The deleted `ProjectDefinedEvent` object",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProjectDefinedEvent"
                }
              }
            }
          }
        },
        "summary": "Delete a project-defined event"
      }
    },
    "/project_defined_events/{id}/filter_types": {
      "get": {
        "responses": {
          "200": {
            "description": "A list of filter types associated with the project-defined event",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "filter_types": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "variable_name": {
                            "type": "string",
                            "description": "The name of the variable"
                          },
                          "type": {
                            "anyOf": [
                              {
                                "type": "string",
                                "enum": [
                                  "string"
                                ]
                              },
                              {
                                "type": "string",
                                "enum": [
                                  "number"
                                ]
                              },
                              {
                                "type": "string",
                                "enum": [
                                  "boolean"
                                ]
                              },
                              {
                                "type": "string",
                                "enum": [
                                  "array"
                                ]
                              },
                              {
                                "type": "string",
                                "enum": [
                                  "null"
                                ]
                              }
                            ],
                            "description": "The type of the variable"
                          }
                        },
                        "required": [
                          "variable_name",
                          "type"
                        ]
                      },
                      "description": "An array of filter types"
                    }
                  },
                  "required": [
                    "filter_types"
                  ]
                }
              }
            }
          }
        },
        "summary": "List the types of all variables associated with the project-defined event"
      }
    },
    "/businesses/{id}/track": {
      "post": {
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "event": {
                    "type": "string",
                    "description": "The name of the event"
                  },
                  "data": {
                    "type": "object",
                    "additionalProperties": true,
                    "description": "The data associated with the event"
                  }
                },
                "required": [
                  "event"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "HTTP status acknowledging the event was properly received",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                  }
                }
              }
            }
          }
        },
        "summary": "Track an event occuring within a business"
      }
    },
    "/rewards_programs/{id}/flows": {
      "post": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the rewards program",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "The created `Flow` object",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Flow"
                }
              }
            }
          }
        },
        "summary": "Create a flow"
      }
    },
    "/flows/{id}/embed": {
      "get": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the flow",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "The embeddable HTML content of the flow",
            "content": {
              "text/html": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        },
        "summary": "Embed a flow"
      }
    },
    "/flows/{id}/embed/analytics": {
      "get": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the flow",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "The embeddable HTML content of the flow analytics",
            "content": {
              "text/html": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        },
        "summary": "Embed an analytics flow"
      }
    },
    "/employees/{id}/emails": {
      "get": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the employee",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "A dictionary with an `emails` property which is an array of `Email` objects",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "emails": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/Email"
                      },
                      "description": "An array of `Email` objects"
                    }
                  },
                  "required": [
                    "emails"
                  ]
                }
              }
            }
          }
        },
        "summary": "List all an employee's emails"
      }
    },
    "/businesses": {
      "get": {
        "responses": {
          "200": {
            "description": "A dictionary with a `businesses` property which is an array of `Business` objects",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "businesses": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/Business"
                      },
                      "description": "An array of businesses"
                    }
                  },
                  "required": [
                    "businesses"
                  ]
                }
              }
            }
          }
        },
        "summary": "List all businesses"
      },
      "post": {
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string",
                    "description": "The name of the business"
                  },
                  "metadata": {
                    "nullable": true,
                    "description": "Arbitrary metadata to associate with the business"
                  }
                },
                "required": [
                  "name"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "The created `Business` object",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Business"
                }
              }
            }
          }
        },
        "summary": "Create a business"
      }
    },
    "/businesses/{id}": {
      "get": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the business",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "A `Business` object",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Business"
                }
              }
            }
          }
        },
        "summary": "Retrieve a business"
      },
      "post": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the business",
            "required": true
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string",
                    "description": "The updated name of the business. Can be omitted"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "The updated `Business` object",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Business"
                }
              }
            }
          }
        },
        "summary": "Update a business"
      },
      "delete": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the business",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "The deleted `Business` object",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Business"
                }
              }
            }
          }
        },
        "summary": "Delete a business"
      }
    },
    "/businesses/{id}/variables": {
      "get": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the business",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "The variables for the business",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "variables": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      },
                      "description": "The variables for the business"
                    }
                  },
                  "required": [
                    "variables"
                  ]
                }
              }
            }
          }
        },
        "summary": "Get all variables for a business"
      }
    },
    "/email_templates/{id}/variables": {
      "get": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the email template",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "The variables for the email template",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "variables": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      },
                      "description": "The variables for the email template"
                    }
                  },
                  "required": [
                    "variables"
                  ]
                }
              }
            }
          }
        },
        "summary": "Get all variables for an email template"
      }
    },
    "/sms_templates/{id}/variables": {
      "get": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the SMS template",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "The variables for the SMS template",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "variables": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      },
                      "description": "The variables for the SMS template"
                    }
                  },
                  "required": [
                    "variables"
                  ]
                }
              }
            }
          }
        },
        "summary": "Get all variables for an SMS template"
      }
    },
    "/businesses/{id}/customers": {
      "get": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the business",
            "required": true
          },
          {
            "in": "query",
            "name": "email_address",
            "schema": {
              "type": "string"
            },
            "description": "The email address to filter on",
            "required": false
          },
          {
            "in": "query",
            "name": "phone_number",
            "schema": {
              "type": "string"
            },
            "description": "The phone number to filter on",
            "required": false
          }
        ],
        "responses": {
          "200": {
            "description": "A dictionary with a `customers` property which is an array of `Customer` objects",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "customers": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/Customer"
                      },
                      "description": "An array of customers"
                    }
                  },
                  "required": [
                    "customers"
                  ]
                }
              }
            }
          }
        },
        "summary": "List all customers for a business"
      },
      "post": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the business",
            "required": true
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "anyOf": [
                  {
                    "type": "object",
                    "properties": {
                      "email_address": {
                        "type": "string",
                        "description": "The email address of the customer"
                      },
                      "phone_number": {
                        "type": "string",
                        "nullable": true,
                        "description": "The phone number of the customer"
                      },
                      "metadata": {
                        "nullable": true,
                        "description": "Any metadata to attach to the customer"
                      }
                    },
                    "required": [
                      "email_address"
                    ]
                  },
                  {
                    "type": "object",
                    "properties": {
                      "phone_number": {
                        "type": "string",
                        "description": "The phone number of the customer"
                      },
                      "email_address": {
                        "type": "string",
                        "nullable": true,
                        "description": "The email address of the customer"
                      },
                      "metadata": {
                        "nullable": true,
                        "description": "Any metadata to attach to the customer"
                      }
                    },
                    "required": [
                      "phone_number"
                    ]
                  }
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "The created `Customer` object",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Customer"
                }
              }
            }
          }
        },
        "summary": "Create a customer"
      }
    },
    "/businesses/{id}/customers/batch": {
      "post": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the business",
            "required": true
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "customers": {
                    "type": "array",
                    "items": {
                      "anyOf": [
                        {
                          "type": "object",
                          "properties": {
                            "email_address": {
                              "type": "string",
                              "description": "The email address of the customer"
                            },
                            "phone_number": {
                              "type": "string",
                              "nullable": true,
                              "description": "The phone number of the customer"
                            },
                            "metadata": {
                              "nullable": true,
                              "description": "Any metadata to attach to the customer"
                            }
                          },
                          "required": [
                            "email_address"
                          ]
                        },
                        {
                          "type": "object",
                          "properties": {
                            "phone_number": {
                              "type": "string",
                              "description": "The phone number of the customer"
                            },
                            "email_address": {
                              "type": "string",
                              "nullable": true,
                              "description": "The email address of the customer"
                            },
                            "metadata": {
                              "nullable": true,
                              "description": "Any metadata to attach to the customer"
                            }
                          },
                          "required": [
                            "phone_number"
                          ]
                        }
                      ]
                    },
                    "description": "An array of customer data to create"
                  }
                },
                "required": [
                  "customers"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "An array of created `Customer` objects",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "customers": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/Customer"
                      },
                      "description": "An array of created `Customer` objects"
                    }
                  },
                  "required": [
                    "customers"
                  ]
                }
              }
            }
          }
        },
        "summary": "Create multiple customers"
      }
    },
    "/businesses/{id}/customers/batch_update": {
      "post": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the business",
            "required": true
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "customers": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "string",
                          "description": "The ID of the customer"
                        },
                        "phone_number": {
                          "type": "string",
                          "nullable": true,
                          "description": "The updated phone number of the customer"
                        },
                        "email_address": {
                          "type": "string",
                          "nullable": true,
                          "description": "The updated email address of the customer"
                        },
                        "metadata": {
                          "nullable": true,
                          "description": "The updated metadata of the customer"
                        }
                      },
                      "required": [
                        "id"
                      ]
                    },
                    "description": "An array of customer data to update. Must identify every customer with their ID"
                  }
                },
                "required": [
                  "customers"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "An array of updated `Customer` objects",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "customers": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/Customer"
                      },
                      "description": "An array of updated `Customer` objects"
                    }
                  },
                  "required": [
                    "customers"
                  ]
                }
              }
            }
          }
        },
        "summary": "Update multiple customers"
      }
    },
    "/customers/{id}": {
      "get": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the customer",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "A `Customer` object",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Customer"
                }
              }
            }
          }
        },
        "summary": "Retrieve a customer"
      },
      "post": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the customer",
            "required": true
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "email_address": {
                    "type": "string",
                    "nullable": true,
                    "description": "The email address of the customer"
                  },
                  "phone_number": {
                    "type": "string",
                    "nullable": true,
                    "description": "The phone number of the customer"
                  },
                  "metadata": {
                    "type": "object",
                    "additionalProperties": true,
                    "nullable": true,
                    "description": "The metadata of the customer"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "The updated `Customer` object",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Customer"
                }
              }
            }
          }
        },
        "summary": "Update a customer"
      },
      "delete": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the customer",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "The deleted `Customer` object",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Customer"
                }
              }
            }
          }
        },
        "summary": "Delete a customer"
      }
    },
    "/customers/{id}/unsubscribe": {
      "post": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the customer",
            "required": true
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "anyOf": [
                  {
                    "type": "object",
                    "properties": {
                      "type": {
                        "type": "string",
                        "enum": [
                          "campaign"
                        ],
                        "description": "The type of unsubscribe. `campaign` in this case indicates unsubscribing from a single campaign"
                      },
                      "campaign_id": {
                        "type": "string",
                        "description": "The ID of the campaign to unsubscribe from"
                      }
                    },
                    "required": [
                      "type",
                      "campaign_id"
                    ]
                  },
                  {
                    "type": "object",
                    "properties": {
                      "type": {
                        "type": "string",
                        "enum": [
                          "trigger"
                        ],
                        "description": "The type of unsubscribe. `trigger` in this case indicates unsubscribing from a single trigger"
                      },
                      "trigger_id": {
                        "type": "string",
                        "description": "The ID of the trigger to unsubscribe from"
                      }
                    },
                    "required": [
                      "type",
                      "trigger_id"
                    ]
                  },
                  {
                    "type": "object",
                    "properties": {
                      "type": {
                        "type": "string",
                        "enum": [
                          "all"
                        ],
                        "description": "The type of unsubscribe. `all` in this case indicates unsubscribing from all campaigns"
                      }
                    },
                    "required": [
                      "type"
                    ]
                  },
                  {
                    "type": "object",
                    "properties": {
                      "type": {
                        "type": "string",
                        "enum": [
                          "future"
                        ],
                        "description": "The type of unsubscribe. `future` in this case indicates unsubscribing from all current and future campaigns"
                      }
                    },
                    "required": [
                      "type"
                    ]
                  }
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "The `Customer` object which was unsubscribed",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Customer"
                }
              }
            }
          }
        },
        "summary": "Unsubscribe a customer from campaigns and triggers"
      }
    },
    "/customers/{id}/resubscribe": {
      "post": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the customer",
            "required": true
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "anyOf": [
                  {
                    "type": "object",
                    "properties": {
                      "type": {
                        "type": "string",
                        "enum": [
                          "campaign"
                        ],
                        "description": "The type of resubscribe. `campaign` in this case indicates resubscribing to a single campaign"
                      },
                      "campaign_id": {
                        "type": "string",
                        "description": "The ID of the campaign to resubscribe to"
                      }
                    },
                    "required": [
                      "type",
                      "campaign_id"
                    ]
                  },
                  {
                    "type": "object",
                    "properties": {
                      "type": {
                        "type": "string",
                        "enum": [
                          "trigger"
                        ],
                        "description": "The type of resubscribe. `trigger` in this case indicates resubscribing to a single trigger"
                      },
                      "trigger_id": {
                        "type": "string",
                        "description": "The ID of the trigger to resubscribe to"
                      }
                    },
                    "required": [
                      "type",
                      "trigger_id"
                    ]
                  },
                  {
                    "type": "object",
                    "properties": {
                      "type": {
                        "type": "string",
                        "enum": [
                          "future"
                        ],
                        "description": "The type of resubscribe. `future` in this case indicates resubscribing to future campaigns. Does not resubscribe the customer to any existing campaigns or triggers"
                      }
                    },
                    "required": [
                      "type"
                    ]
                  }
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "The `Customer` object which was resubscribed",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Customer"
                }
              }
            }
          }
        },
        "summary": "Resubscribe a customer to campaigns and triggers"
      }
    },
    "/businesses/{id}/segments": {
      "get": {
        "responses": {
          "200": {
            "description": "A dictionary with a `segments` property which is an array of `Segment` objects",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "segments": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/Segment"
                      },
                      "description": "An array of segments"
                    }
                  },
                  "required": [
                    "segments"
                  ]
                }
              }
            }
          }
        },
        "summary": "List all the business's segments"
      },
      "post": {
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "anyOf": [
                  {
                    "type": "object",
                    "properties": {
                      "name": {
                        "type": "string",
                        "description": "The name of the segment"
                      },
                      "customers": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        },
                        "description": "A list of customer IDs to include in this segment"
                      }
                    },
                    "required": [
                      "name",
                      "customers"
                    ]
                  },
                  {
                    "type": "object",
                    "properties": {
                      "name": {
                        "type": "string",
                        "description": "The name of the segment"
                      },
                      "filter": {
                        "type": "string",
                        "description": "The filter for this segment"
                      }
                    },
                    "required": [
                      "name",
                      "filter"
                    ]
                  }
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "The created `Segment` object",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Segment"
                }
              }
            }
          }
        },
        "summary": "Create a segment"
      }
    },
    "/segments/{id}": {
      "get": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the segment",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "A `Segment` object",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Segment"
                }
              }
            }
          }
        },
        "summary": "Retrieve a segment"
      },
      "post": {
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "anyOf": [
                  {
                    "type": "object",
                    "properties": {
                      "name": {
                        "type": "string",
                        "description": "The name of the segment"
                      },
                      "customers": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        },
                        "description": "A list of customer IDs to include in this segment"
                      }
                    }
                  },
                  {
                    "type": "object",
                    "properties": {
                      "name": {
                        "type": "string",
                        "description": "The name of the segment"
                      },
                      "filter": {
                        "type": "string",
                        "description": "The filter for this segment"
                      }
                    }
                  }
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "The updated `Segment` object",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Segment"
                }
              }
            }
          }
        },
        "summary": "Update a segment"
      },
      "delete": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the segment",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "The deleted `Segment` object",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Segment"
                }
              }
            }
          }
        },
        "summary": "Delete a segment"
      }
    },
    "/segments/{id}/customers": {
      "get": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the segment",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "The customers in the segment",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "customers": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/Customer"
                      },
                      "description": "The customers in the segment"
                    }
                  },
                  "required": [
                    "customers"
                  ]
                }
              }
            }
          }
        },
        "summary": "Show the customers in a segment"
      },
      "post": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the segment",
            "required": true
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "customer": {
                    "type": "string",
                    "description": "The ID of the customer to add to the segment"
                  }
                },
                "required": [
                  "customer"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "The updated `Segment` object",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Segment"
                }
              }
            }
          }
        },
        "summary": "Add a customer to a segment"
      }
    },
    "/segments/{id}/customers/{customer_id}": {
      "delete": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the segment",
            "required": true
          },
          {
            "in": "path",
            "name": "customer_id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the customer to remove from the segment",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "The updated `Segment` object",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Segment"
                }
              }
            }
          }
        },
        "summary": "Remove a customer from a segment"
      }
    },
    "/customers/{id}/unsubscribe_embeds": {
      "post": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the customer that's unsubscribing",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "The created `UnsubscribeEmbed` object",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UnsubscribeEmbed"
                }
              }
            }
          }
        },
        "summary": "Create an unsubscribe embed"
      }
    },
    "/unsubscribe_embeds/{id}": {
      "get": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the unsubscribe embed",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "An `UnsubscribeEmbed` object",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UnsubscribeEmbed"
                }
              }
            }
          }
        },
        "summary": "Retrieve an unsubscribe embed"
      }
    },
    "/unsubscribe_embeds/{id}/show": {
      "get": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the unsubscribe embed",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "The embeddable HTML that will render a UI for unsubscribing from a campaign",
            "content": {
              "text/html": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        },
        "summary": "Embed the unsubscribe form"
      }
    },
    "/businesses/{id}/employees": {
      "get": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the business",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "A dictionary with an `employees` property which is an array of `Employee` objects",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "employees": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/Employee"
                      },
                      "description": "An array of `Employee` objects"
                    }
                  },
                  "required": [
                    "employees"
                  ]
                }
              }
            }
          }
        },
        "summary": "List all employees for a business"
      },
      "post": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the business",
            "required": true
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "anyOf": [
                  {
                    "type": "object",
                    "properties": {
                      "phone_number": {
                        "type": "string",
                        "description": "The phone number of the employee"
                      },
                      "email_address": {
                        "type": "string",
                        "nullable": true,
                        "description": "The email address of the employee"
                      }
                    },
                    "required": [
                      "phone_number"
                    ]
                  },
                  {
                    "type": "object",
                    "properties": {
                      "email_address": {
                        "type": "string",
                        "description": "The email address of the employee"
                      },
                      "phone_number": {
                        "type": "string",
                        "nullable": true,
                        "description": "The phone number of the employee"
                      }
                    },
                    "required": [
                      "email_address"
                    ]
                  }
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "The created `Employee` object",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Employee"
                }
              }
            }
          }
        },
        "summary": "Create an employee"
      }
    },
    "/employees/{id}": {
      "get": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the employee",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "An `Employee` object",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Employee"
                }
              }
            }
          }
        },
        "summary": "Retrieve an employee"
      },
      "post": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the employee",
            "required": true
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "phone_number": {
                    "type": "string",
                    "nullable": true,
                    "description": "The phone number of the employee"
                  },
                  "email_address": {
                    "type": "string",
                    "nullable": true,
                    "description": "The email of the employee"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "The updated `Employee` object",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Employee"
                }
              }
            }
          }
        },
        "summary": "Update an employee"
      },
      "delete": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the employee",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "The deleted `Employee` object",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Employee"
                }
              }
            }
          }
        },
        "summary": "Delete an employee"
      }
    },
    "/businesses/{id}/email_templates": {
      "get": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the business",
            "required": true
          },
          {
            "in": "query",
            "name": "include_project_email_templates",
            "schema": {
              "type": "string",
              "enum": [
                "true"
              ]
            },
            "description": "Whether to include project email templates in the list of business's email templates",
            "required": false
          }
        ],
        "responses": {
          "200": {
            "description": "A dictionary with an `email_templates` property which is an array of `EmailTemplate` objects",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "email_templates": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/EmailTemplate"
                      },
                      "description": "An array of email templates"
                    }
                  },
                  "required": [
                    "email_templates"
                  ]
                }
              }
            }
          }
        },
        "summary": "List all email templates for a business"
      },
      "post": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the business",
            "required": true
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "anyOf": [
                  {
                    "type": "object",
                    "properties": {
                      "name": {
                        "type": "string",
                        "description": "The name of the email template"
                      },
                      "subject": {
                        "type": "string",
                        "description": "The subject of the email template. Variables are supported via `{{ variableName }}`"
                      },
                      "attachments": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "properties": {
                            "content": {
                              "type": "string",
                              "description": "The content of the attachment as a data url, e.g. 'data:image/png;base64,abcd1234'"
                            },
                            "name": {
                              "type": "string",
                              "description": "The intended name of the attachment"
                            }
                          },
                          "required": [
                            "content",
                            "name"
                          ]
                        },
                        "description": "An array of attachments that will always be sent with this template"
                      },
                      "one_off": {
                        "type": "boolean",
                        "description": "Whether this is a one off email template"
                      },
                      "metadata": {
                        "type": "object",
                        "additionalProperties": true,
                        "description": "The metadata of the email template"
                      },
                      "body": {
                        "type": "string",
                        "description": "The plain text of the email. Mutually exclusive with rich text emails"
                      },
                      "template_json": {
                        "type": "string",
                        "nullable": true,
                        "enum": [
                          null
                        ],
                        "description": "Must be null or omitted"
                      },
                      "template_html": {
                        "type": "string",
                        "nullable": true,
                        "enum": [
                          null
                        ],
                        "description": "Must be null or omitted"
                      }
                    },
                    "required": [
                      "name",
                      "subject",
                      "body"
                    ]
                  },
                  {
                    "type": "object",
                    "properties": {
                      "name": {
                        "type": "string",
                        "description": "The name of the email template"
                      },
                      "subject": {
                        "type": "string",
                        "description": "The subject of the email template. Variables are supported via `{{ variableName }}`"
                      },
                      "attachments": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "properties": {
                            "content": {
                              "type": "string",
                              "description": "The content of the attachment as a data url, e.g. 'data:image/png;base64,abcd1234'"
                            },
                            "name": {
                              "type": "string",
                              "description": "The intended name of the attachment"
                            }
                          },
                          "required": [
                            "content",
                            "name"
                          ]
                        },
                        "description": "An array of attachments that will always be sent with this template"
                      },
                      "one_off": {
                        "type": "boolean",
                        "description": "Whether this is a one off email template"
                      },
                      "metadata": {
                        "type": "object",
                        "additionalProperties": true,
                        "description": "The metadata of the email template"
                      },
                      "body": {
                        "type": "string",
                        "nullable": true,
                        "enum": [
                          null
                        ],
                        "description": "Must be null or omitted"
                      },
                      "template_json": {
                        "description": "The JSON representing the rich text email template. Mutually exclusive with plain text email templates"
                      },
                      "template_html": {
                        "type": "string",
                        "nullable": true,
                        "enum": [
                          null
                        ],
                        "description": "Must be null or omitted"
                      }
                    },
                    "required": [
                      "name",
                      "subject",
                      "template_json"
                    ]
                  },
                  {
                    "type": "object",
                    "properties": {
                      "name": {
                        "type": "string",
                        "description": "The name of the email template"
                      },
                      "subject": {
                        "type": "string",
                        "description": "The subject of the email template. Variables are supported via `{{ variableName }}`"
                      },
                      "attachments": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "properties": {
                            "content": {
                              "type": "string",
                              "description": "The content of the attachment as a data url, e.g. 'data:image/png;base64,abcd1234'"
                            },
                            "name": {
                              "type": "string",
                              "description": "The intended name of the attachment"
                            }
                          },
                          "required": [
                            "content",
                            "name"
                          ]
                        },
                        "description": "An array of attachments that will always be sent with this template"
                      },
                      "one_off": {
                        "type": "boolean",
                        "description": "Whether this is a one off email template"
                      },
                      "metadata": {
                        "type": "object",
                        "additionalProperties": true,
                        "description": "The metadata of the email template"
                      }
                    },
                    "required": [
                      "name",
                      "subject"
                    ]
                  },
                  {
                    "type": "object",
                    "properties": {
                      "name": {
                        "type": "string",
                        "description": "The name of the email template"
                      },
                      "subject": {
                        "type": "string",
                        "description": "The subject of the email template"
                      },
                      "attachments": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "properties": {
                            "content": {
                              "type": "string",
                              "description": "The content of the attachment as a data url, e.g. 'data:image/png;base64,abcd1234'"
                            },
                            "name": {
                              "type": "string",
                              "description": "The intended name of the attachment"
                            }
                          },
                          "required": [
                            "content",
                            "name"
                          ]
                        },
                        "description": "An array of attachments that will always be sent with this template"
                      },
                      "one_off": {
                        "type": "boolean",
                        "description": "Whether this is a one off email template"
                      },
                      "metadata": {
                        "type": "object",
                        "additionalProperties": true,
                        "description": "The metadata of the email template"
                      },
                      "new_template_json": {
                        "description": "The JSON representing the rich text email template"
                      },
                      "new_template_html": {
                        "type": "string",
                        "description": "The HTML representation of the rich text email template"
                      }
                    },
                    "required": [
                      "name",
                      "subject",
                      "new_template_json",
                      "new_template_html"
                    ]
                  }
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "The created `EmailTemplate` object",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EmailTemplate"
                }
              }
            }
          }
        },
        "summary": "Create an email template"
      }
    },
    "/businesses/{id}/email_templates/ai": {
      "post": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the business",
            "required": true
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "description": {
                    "type": "string",
                    "description": "A description of the content that you'd like to include the email template"
                  }
                },
                "required": [
                  "description"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "An `EmailTemplate` object generated by AI",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EmailTemplate"
                }
              }
            }
          }
        },
        "summary": "Create a new email template using AI"
      }
    },
    "/email_templates/{id}": {
      "get": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the email template",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "An `EmailTemplate` object",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EmailTemplate"
                }
              }
            }
          }
        },
        "summary": "Retrieve an email template"
      },
      "post": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the email template",
            "required": true
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string",
                    "description": "The name of the email template"
                  },
                  "subject": {
                    "type": "string",
                    "description": "The subject of the email template. Variables are supported via `{{ variableName }}`"
                  },
                  "body": {
                    "type": "string",
                    "description": "The plaintext version of the body of the email template. Variables are supported via `{{ variableName }}`"
                  },
                  "attachments": {
                    "type": "array",
                    "items": {
                      "anyOf": [
                        {
                          "type": "string"
                        },
                        {
                          "type": "object",
                          "properties": {
                            "content": {
                              "type": "string",
                              "description": "The content of the attachment as a data url, e.g. 'data:image/png;base64,abcd1234'"
                            },
                            "name": {
                              "type": "string",
                              "description": "The intended name of the attachment"
                            }
                          },
                          "required": [
                            "content",
                            "name"
                          ]
                        }
                      ]
                    },
                    "description": "An array of existing attachment IDs or new attachments that will always be sent with this template"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "The updated `EmailTemplate` object",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EmailTemplate"
                }
              }
            }
          }
        },
        "summary": "Update an email template"
      },
      "delete": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the email template",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "The deleted `EmailTemplate` object",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EmailTemplate"
                }
              }
            }
          }
        },
        "summary": "Delete an email template"
      }
    },
    "/email_templates/{id}/preview.png": {
      "get": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the email template",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "The image of the compiled email template",
            "content": {
              "text/html": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        },
        "summary": "Preview an email template as an image",
        "security": [

        ]
      }
    },
    "/email_templates/{id}/preview": {
      "get": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the email template",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "The HTML of the compiled email template",
            "content": {
              "text/html": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        },
        "summary": "Preview an email template",
        "security": [

        ]
      }
    },
    "/email_templates/{id}/copy": {
      "post": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the email template",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "The created `EmailTemplate` object",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EmailTemplate"
                }
              }
            }
          }
        },
        "summary": "Create a copy of an existing email template"
      }
    },
    "/email_templates/{id}/copy_one_off": {
      "post": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the email template to copy",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "The copied `EmailTemplate` object. As a one-off, it will not be return from `GET /businesses/:id/email_templates`",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EmailTemplate"
                }
              }
            }
          }
        },
        "summary": "Copy an email template as a one-off"
      }
    },
    "/email_templates/{id}/embeds": {
      "post": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the email template",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "The created `EmailTemplateEmbed` object",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EmailTemplateEmbed"
                }
              }
            }
          }
        },
        "summary": "Create an email template embed to edit an existing email template"
      }
    },
    "/businesses/{id}/email_templates/embeds": {
      "post": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the business",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "The created `EmailTemplateEmbed` object",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EmailTemplateEmbed"
                }
              }
            }
          }
        },
        "summary": "Create an email template embed to create a brand new email template"
      }
    },
    "/email_template_embeds/{id}": {
      "get": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the email template embed",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "The `EmailTemplateEmbed` object",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EmailTemplateEmbed"
                }
              }
            }
          }
        },
        "summary": "Retrieve an email template embed"
      }
    },
    "/email_template_embeds/{id}/show": {
      "get": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the email template embed",
            "required": true
          },
          {
            "in": "query",
            "name": "hide_top_bar",
            "schema": {
              "type": "boolean"
            },
            "description": "Whether to hide the top bar when embedding the email template editor",
            "required": false
          },
          {
            "in": "query",
            "name": "hide_buttons",
            "schema": {
              "type": "boolean"
            },
            "description": "Whether to hide the \"Save\" and \"Send Test Email\" buttons when embedding the email template editor",
            "required": false
          },
          {
            "in": "query",
            "name": "hide_save_button",
            "schema": {
              "type": "boolean"
            },
            "description": "Whether to hide the \"Save\" button when embedding the email template editor",
            "required": false
          },
          {
            "in": "query",
            "name": "hide_send_test_email_button",
            "schema": {
              "type": "boolean"
            },
            "description": "Whether to hide the \"Send Test Email\" button when embedding the email template editor",
            "required": false
          }
        ],
        "responses": {
          "200": {
            "description": "The embeddable HTML that will render a UI for editing the email template",
            "content": {
              "text/html": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        },
        "summary": "Embed the email template editor",
        "security": [

        ]
      }
    },
    "/project_email_templates": {
      "get": {
        "responses": {
          "200": {
            "description": "A dictionary with a `project_email_templates` property which is an array of `ProjectEmailTemplate` objects",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "project_email_templates": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/ProjectEmailTemplate"
                      },
                      "description": "An array of project email templates"
                    }
                  },
                  "required": [
                    "project_email_templates"
                  ]
                }
              }
            }
          }
        },
        "summary": "List all project email templates"
      }
    },
    "/project_email_templates/{id}": {
      "get": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the project email template",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "A `ProjectEmailTemplate` object",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProjectEmailTemplate"
                }
              }
            }
          }
        },
        "summary": "Retrieve a project email template"
      }
    },
    "/project_email_templates/{id}/preview.png": {
      "get": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the project email template",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "The image of the compiled project email template",
            "content": {
              "text/html": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        },
        "summary": "Preview a project email template as an image",
        "security": [

        ]
      }
    },
    "/project_email_templates/{id}/preview": {
      "get": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the project email template",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "The HTML of the compiled project email template",
            "content": {
              "text/html": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        },
        "summary": "Preview a project email template",
        "security": [

        ]
      }
    },
    "/project_email_templates/{id}/copy": {
      "post": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the project email template to copy",
            "required": true
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "business": {
                    "type": "string",
                    "description": "The ID of the business to copy the project email template into"
                  }
                },
                "required": [
                  "business"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "The `EmailTemplate` object",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EmailTemplate"
                }
              }
            }
          }
        },
        "summary": "Copy a project email template into a specific business"
      }
    },
    "/project_email_templates/{id}/copy_one_off": {
      "post": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the project email template to copy",
            "required": true
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "business": {
                    "type": "string",
                    "description": "The ID of the business to copy the project email template into"
                  }
                },
                "required": [
                  "business"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "The `EmailTemplate` object",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EmailTemplate"
                }
              }
            }
          }
        },
        "summary": "Copy a project email template into a specific business as a one-off template"
      }
    },
    "/email_templates/{id}/draft_send": {
      "post": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the email template",
            "required": true
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "from": {
                    "type": "string",
                    "description": "The ID of the email address to send from"
                  },
                  "to": {
                    "type": "string",
                    "description": "The email address to send to"
                  },
                  "variables": {
                    "type": "object",
                    "additionalProperties": true,
                    "description": "Variables to use in the email template"
                  }
                },
                "required": [
                  "from",
                  "to"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "A `DraftEmail` representing what would have been sent",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DraftEmail"
                }
              }
            }
          }
        },
        "summary": "Draft send an email based off an email template"
      }
    },
    "/email_templates/{id}/send": {
      "post": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the email template",
            "required": true
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "anyOf": [
                  {
                    "type": "object",
                    "properties": {
                      "from": {
                        "type": "string",
                        "description": "The ID of the email address from which to send the email"
                      },
                      "attachments": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "properties": {
                            "content": {
                              "type": "string",
                              "description": "The content of the attachment as a data url, e.g. 'data:image/png;base64,abcd1234'"
                            },
                            "name": {
                              "type": "string",
                              "description": "The intended name of the attachment"
                            }
                          },
                          "required": [
                            "content",
                            "name"
                          ]
                        },
                        "description": "An array of attachments to include with the email"
                      },
                      "to": {
                        "type": "string",
                        "description": "The email address to send the email to"
                      },
                      "variables": {
                        "type": "object",
                        "additionalProperties": true,
                        "description": "The variables to be injected into the email template"
                      }
                    },
                    "required": [
                      "from",
                      "to"
                    ]
                  },
                  {
                    "type": "object",
                    "properties": {
                      "from": {
                        "type": "string",
                        "description": "The ID of the email address from which to send the email"
                      },
                      "attachments": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "properties": {
                            "content": {
                              "type": "string",
                              "description": "The content of the attachment as a data url, e.g. 'data:image/png;base64,abcd1234'"
                            },
                            "name": {
                              "type": "string",
                              "description": "The intended name of the attachment"
                            }
                          },
                          "required": [
                            "content",
                            "name"
                          ]
                        },
                        "description": "An array of attachments to include with the email"
                      },
                      "customer": {
                        "type": "string",
                        "description": "The ID of the customer to send the email to"
                      },
                      "variables": {
                        "type": "object",
                        "additionalProperties": true,
                        "description": "The variables to be injected into the email template in addition to the variables already induced by the customer"
                      }
                    },
                    "required": [
                      "from",
                      "customer"
                    ]
                  }
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "The email that was sent",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Email"
                }
              }
            }
          }
        },
        "summary": "Send an email based off an email template"
      }
    },
    "/email_addresses/{id}/send": {
      "post": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the email",
            "required": true
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "to": {
                    "type": "string",
                    "description": "The email address to send the email to"
                  },
                  "subject": {
                    "type": "string",
                    "description": "The subject of the email"
                  },
                  "body": {
                    "type": "string",
                    "description": "The body of the email"
                  }
                },
                "required": [
                  "to",
                  "subject",
                  "body"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "The sent `Email` object",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Email"
                }
              }
            }
          }
        },
        "summary": "Send an email"
      }
    },
    "/businesses/{id}/email_addresses": {
      "get": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the business",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "The email addresses belonging to the business",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "email_addresses": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/BusinessEmailAddress"
                      },
                      "description": "The business's email addresses"
                    }
                  },
                  "required": [
                    "email_addresses"
                  ]
                }
              }
            }
          }
        },
        "summary": "Retrieve the email addresses for a business"
      }
    },
    "/email_addresses/{id}": {
      "get": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the connected email address",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "An `EmailAddress` object",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BusinessEmailAddress"
                }
              }
            }
          }
        },
        "summary": "Retrieve a connected email address"
      },
      "delete": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the connected email address",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "The deleted `ConnectedEmailAddress` object",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BusinessEmailAddress"
                }
              }
            }
          }
        },
        "summary": "Delete a connected email address"
      }
    },
    "/businesses/{id}/sms_templates": {
      "get": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the business",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "A dictionary with an `sms_templates` property which is an array of `SMSTemplate` objects",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "sms_templates": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/SMSTemplate"
                      },
                      "description": "An array of SMS templates"
                    }
                  },
                  "required": [
                    "sms_templates"
                  ]
                }
              }
            }
          }
        },
        "summary": "List all SMS templates for a business"
      },
      "post": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the business",
            "required": true
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string",
                    "description": "The name of the SMS template"
                  },
                  "message": {
                    "type": "string",
                    "description": "The message of the SMS template. Variables are supported via `{{ variableName }}`"
                  },
                  "one_off": {
                    "type": "boolean",
                    "description": "Whether the SMS template is one-off"
                  }
                },
                "required": [
                  "name",
                  "message"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "The created `SMSTemplate` object",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SMSTemplate"
                }
              }
            }
          }
        },
        "summary": "Create an SMS template"
      }
    },
    "/sms_templates/{id}": {
      "get": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the SMS template",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "An `SMSTemplate` object",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SMSTemplate"
                }
              }
            }
          }
        },
        "summary": "Retrieve an SMS template"
      },
      "post": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the SMS template",
            "required": true
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string",
                    "description": "The name of the SMS template"
                  },
                  "message": {
                    "type": "string",
                    "description": "The message of the SMS template. Variables are supported via `{{ variableName }}`"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "The updated `SMSTemplate` object",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SMSTemplate"
                }
              }
            }
          }
        },
        "summary": "Update an SMS template"
      },
      "delete": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the SMS template",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "The deleted `SMSTemplate` object",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SMSTemplate"
                }
              }
            }
          }
        },
        "summary": "Delete an SMS template"
      }
    },
    "/sms_templates/{id}/preview.png": {
      "get": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the SMS template",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "The image of the compiled SMS template",
            "content": {
              "text/html": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        },
        "summary": "Preview an SMS template as an image",
        "security": [

        ]
      }
    },
    "/sms_templates/{id}/preview": {
      "get": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the SMS template",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "An HTML preview of the SMS template",
            "content": {
              "text/html": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        },
        "summary": "Preview an SMS template",
        "security": [

        ]
      }
    },
    "/sms_templates/{id}/embeds": {
      "post": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the SMS template",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "The created `SmsTemplateEmbed` object",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SMSTemplateEmbed"
                }
              }
            }
          }
        },
        "summary": "Create an SMS template embed to edit an existing SMS template"
      }
    },
    "/businesses/{id}/sms_templates/embeds": {
      "post": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the business",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "The created `EmailTemplateEmbed` object",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SMSTemplateEmbed"
                }
              }
            }
          }
        },
        "summary": "Create an SMS template embed to create a brand new SMS template"
      }
    },
    "/sms_template_embeds/{id}": {
      "get": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the SMS template embed",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "The `SmsTemplateEmbed` object",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SMSTemplateEmbed"
                }
              }
            }
          }
        },
        "summary": "Retrieve an SMS template embed"
      }
    },
    "/sms_template_embeds/{id}/show": {
      "get": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the SMS template embed",
            "required": true
          },
          {
            "in": "query",
            "name": "hide_top_bar",
            "schema": {
              "type": "boolean"
            },
            "description": "Whether to hide the top bar when embedding the SMS template editor",
            "required": false
          },
          {
            "in": "query",
            "name": "hide_buttons",
            "schema": {
              "type": "boolean"
            },
            "description": "Whether to hide all buttons when embedding the SMS template editor",
            "required": false
          },
          {
            "in": "query",
            "name": "hide_save_button",
            "schema": {
              "type": "boolean"
            },
            "description": "Whether to hide the \"Save\" button when embedding the SMS template editor",
            "required": false
          }
        ],
        "responses": {
          "200": {
            "description": "The embeddable HTML that will render a UI for editing the SMS template",
            "content": {
              "text/html": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        },
        "summary": "Embed the SMS template editor",
        "security": [

        ]
      }
    },
    "/sms_templates/{id}/draft_send": {
      "post": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the SMS template",
            "required": true
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "from": {
                    "type": "string",
                    "description": "The ID of the phone number to send the SMS from"
                  },
                  "to": {
                    "type": "string",
                    "description": "The phone number to send the SMS to"
                  },
                  "variables": {
                    "type": "object",
                    "additionalProperties": true,
                    "description": "Variables to use in the email template"
                  }
                },
                "required": [
                  "from",
                  "to"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "A `DraftSMSMessage` representing what would have been sent",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DraftSMSMessage"
                }
              }
            }
          }
        },
        "summary": "Draft send an SMS message from an SMS template"
      }
    },
    "/sms_templates/{id}/send": {
      "post": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the SMS template",
            "required": true
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "anyOf": [
                  {
                    "type": "object",
                    "properties": {
                      "from": {
                        "type": "string",
                        "description": "The ID of the phone number from which to send the SMS"
                      },
                      "to": {
                        "type": "string",
                        "description": "The phone number to send the SMS to"
                      },
                      "variables": {
                        "type": "object",
                        "additionalProperties": true,
                        "description": "The variables to be injected into the SMS template"
                      }
                    },
                    "required": [
                      "from",
                      "to"
                    ]
                  },
                  {
                    "type": "object",
                    "properties": {
                      "from": {
                        "type": "string",
                        "description": "The ID of the phone number from which to send the SMS"
                      },
                      "customer": {
                        "type": "string",
                        "description": "The ID of the customer to send the SMS to"
                      },
                      "variables": {
                        "type": "object",
                        "additionalProperties": true,
                        "description": "The variables to be injected into the SMS template in addition to the variables already induced by the customer"
                      }
                    },
                    "required": [
                      "from",
                      "customer"
                    ]
                  }
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "The SMS that was sent",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SMSMessage"
                }
              }
            }
          }
        },
        "summary": "Send an SMS based off an SMS template"
      }
    },
    "/businesses/{id}/campaigns": {
      "get": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the business",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "A dictionary with a `campaigns` property which is an array of `Campaign` objects",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "campaigns": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/Campaign"
                      },
                      "description": "An array of campaigns"
                    }
                  },
                  "required": [
                    "campaigns"
                  ]
                }
              }
            }
          }
        },
        "summary": "List all campaigns"
      },
      "post": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the business",
            "required": true
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string",
                    "description": "The name of the campaign"
                  },
                  "enrolled_customers": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "description": "The ID of the customers enrolled in the campaign"
                  },
                  "steps": {
                    "type": "array",
                    "items": {
                      "anyOf": [
                        {
                          "type": "object",
                          "properties": {
                            "type": {
                              "type": "string",
                              "enum": [
                                "email"
                              ],
                              "description": "The step type. Always \"email\" for this step"
                            },
                            "custom_step_id": {
                              "type": "string",
                              "description": "Optional. The ID of the custom step to use in this step. The type of the custom step must be \"email\" as well"
                            },
                            "email_template_id": {
                              "type": "string",
                              "description": "The ID of the email template to use in this step"
                            }
                          },
                          "required": [
                            "type",
                            "email_template_id"
                          ]
                        },
                        {
                          "type": "object",
                          "properties": {
                            "type": {
                              "type": "string",
                              "enum": [
                                "email"
                              ],
                              "description": "The step type. Always \"email\" for this step"
                            },
                            "custom_step_id": {
                              "type": "string",
                              "description": "Optional. The ID of the custom step to use in this step. The type of the custom step must be \"email\" as well"
                            },
                            "subject": {
                              "type": "string",
                              "description": "The subject of the email template to use at this step"
                            },
                            "body": {
                              "type": "string",
                              "description": "The body of the email template to use at this step"
                            }
                          },
                          "required": [
                            "type",
                            "subject",
                            "body"
                          ]
                        },
                        {
                          "type": "object",
                          "properties": {
                            "type": {
                              "type": "string",
                              "enum": [
                                "sms"
                              ],
                              "description": "The step type. Always \"sms\" for this step"
                            },
                            "custom_step_id": {
                              "type": "string",
                              "description": "Optional. The ID of the custom step to use in this step. The type of the custom step must be \"sms\" as well"
                            },
                            "sms_template_id": {
                              "type": "string",
                              "description": "The ID of the SMS template to use in this step"
                            }
                          },
                          "required": [
                            "type",
                            "sms_template_id"
                          ]
                        },
                        {
                          "type": "object",
                          "properties": {
                            "type": {
                              "type": "string",
                              "enum": [
                                "sms"
                              ],
                              "description": "The step type. Always \"sms\" for this step"
                            },
                            "custom_step_id": {
                              "type": "string",
                              "description": "Optional. The ID of the custom step to use in this step. The type of the custom step must be \"sms\" as well"
                            },
                            "message": {
                              "type": "string",
                              "description": "The message to send in this step"
                            }
                          },
                          "required": [
                            "type",
                            "message"
                          ]
                        },
                        {
                          "type": "object",
                          "properties": {
                            "type": {
                              "type": "string",
                              "enum": [
                                "wait"
                              ],
                              "description": "The step type. Always \"wait\" for this step"
                            },
                            "duration": {
                              "type": "integer",
                              "description": "The number of seconds to wait"
                            }
                          },
                          "required": [
                            "type",
                            "duration"
                          ]
                        }
                      ]
                    },
                    "description": "The steps of the campaign"
                  },
                  "email_address": {
                    "type": "string",
                    "nullable": true,
                    "description": "The email address used to send emails in the campaign. Will be the ID of an email-like object"
                  },
                  "phone_number": {
                    "type": "string",
                    "nullable": true,
                    "description": "The phone number used to send SMS messages in the campaign. Will be the ID of a phone number-like object"
                  },
                  "scheduled_at": {
                    "type": "string",
                    "nullable": true,
                    "description": "The scheduled time of the campaign in ISO 8601 format"
                  },
                  "segment": {
                    "type": "string",
                    "nullable": true,
                    "description": "The ID of the segment to attach to the campaign"
                  },
                  "metadata": {
                    "type": "object",
                    "additionalProperties": true,
                    "nullable": true,
                    "description": "The metadata of the campaign"
                  }
                },
                "required": [
                  "name",
                  "enrolled_customers",
                  "steps"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "The created `Campaign` object",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Campaign"
                }
              }
            }
          }
        },
        "summary": "Create a campaign"
      }
    },
    "/businesses/{id}/campaigns/embeds": {
      "post": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the business",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "The created `CampaignEmbed` object. Can be used to create a new campaign for the business",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CampaignEmbed"
                }
              }
            }
          }
        },
        "summary": "Create a campaign embed to create a new campaign"
      }
    },
    "/campaigns/{id}": {
      "get": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the campaign",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "A `Campaign` object",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Campaign"
                }
              }
            }
          }
        },
        "summary": "Retrieve a campaign"
      },
      "post": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the campaign",
            "required": true
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string",
                    "description": "The updated name of the campaign. Can be omitted"
                  },
                  "steps": {
                    "type": "array",
                    "items": {
                      "anyOf": [
                        {
                          "type": "object",
                          "properties": {
                            "type": {
                              "type": "string",
                              "enum": [
                                "email"
                              ],
                              "description": "The step type. Always \"email\" for this step"
                            },
                            "custom_step_id": {
                              "type": "string",
                              "description": "Optional. The ID of the custom step to use in this step. The type of the custom step must be \"email\" as well"
                            },
                            "email_template_id": {
                              "type": "string",
                              "description": "The ID of the email template to use in this step"
                            }
                          },
                          "required": [
                            "type",
                            "email_template_id"
                          ]
                        },
                        {
                          "type": "object",
                          "properties": {
                            "type": {
                              "type": "string",
                              "enum": [
                                "email"
                              ],
                              "description": "The step type. Always \"email\" for this step"
                            },
                            "custom_step_id": {
                              "type": "string",
                              "description": "Optional. The ID of the custom step to use in this step. The type of the custom step must be \"email\" as well"
                            },
                            "subject": {
                              "type": "string",
                              "description": "The subject of the email template to use at this step"
                            },
                            "body": {
                              "type": "string",
                              "description": "The body of the email template to use at this step"
                            }
                          },
                          "required": [
                            "type",
                            "subject",
                            "body"
                          ]
                        },
                        {
                          "type": "object",
                          "properties": {
                            "type": {
                              "type": "string",
                              "enum": [
                                "sms"
                              ],
                              "description": "The step type. Always \"sms\" for this step"
                            },
                            "custom_step_id": {
                              "type": "string",
                              "description": "Optional. The ID of the custom step to use in this step. The type of the custom step must be \"sms\" as well"
                            },
                            "sms_template_id": {
                              "type": "string",
                              "description": "The ID of the SMS template to use in this step"
                            }
                          },
                          "required": [
                            "type",
                            "sms_template_id"
                          ]
                        },
                        {
                          "type": "object",
                          "properties": {
                            "type": {
                              "type": "string",
                              "enum": [
                                "sms"
                              ],
                              "description": "The step type. Always \"sms\" for this step"
                            },
                            "custom_step_id": {
                              "type": "string",
                              "description": "Optional. The ID of the custom step to use in this step. The type of the custom step must be \"sms\" as well"
                            },
                            "message": {
                              "type": "string",
                              "description": "The message to send in this step"
                            }
                          },
                          "required": [
                            "type",
                            "message"
                          ]
                        },
                        {
                          "type": "object",
                          "properties": {
                            "type": {
                              "type": "string",
                              "enum": [
                                "wait"
                              ],
                              "description": "The step type. Always \"wait\" for this step"
                            },
                            "duration": {
                              "type": "integer",
                              "description": "The number of seconds to wait"
                            }
                          },
                          "required": [
                            "type",
                            "duration"
                          ]
                        }
                      ]
                    },
                    "description": "The updated steps of the campaign. Can be omitted"
                  },
                  "segment": {
                    "type": "string",
                    "nullable": true,
                    "description": "The updated segment of the campaign. Can be omitted"
                  },
                  "enrolled_customers": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "description": "The updated enrolled customer IDs of the campaign. Can be omitted"
                  },
                  "email_address": {
                    "type": "string",
                    "nullable": true,
                    "description": "The email address used to send emails in the campaign. Will be the ID of an email-like object"
                  },
                  "phone_number": {
                    "type": "string",
                    "nullable": true,
                    "description": "The phone number used to send SMS messages in the campaign. Will be the ID of a phone number-like object"
                  },
                  "scheduled_at": {
                    "type": "string",
                    "nullable": true,
                    "description": "The scheduled time of the campaign in ISO 8601 format"
                  },
                  "metadata": {
                    "type": "object",
                    "additionalProperties": true,
                    "nullable": true,
                    "description": "The metadata of the campaign"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "The updated `Campaign` object",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Campaign"
                }
              }
            }
          }
        },
        "summary": "Update a campaign"
      },
      "delete": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the campaign",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "The deleted `Campaign` object",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Campaign"
                }
              }
            }
          }
        },
        "summary": "Delete a campaign"
      }
    },
    "/campaigns/{id}/start": {
      "post": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the campaign",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "The `Campaign` object",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Campaign"
                }
              }
            }
          }
        },
        "summary": "Start a campaign"
      }
    },
    "/campaigns/{id}/stop": {
      "post": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the campaign",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "The `Campaign` object",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Campaign"
                }
              }
            }
          }
        },
        "summary": "Stop a campaign"
      }
    },
    "/campaigns/{id}/schedule": {
      "post": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the campaign to schedule",
            "required": true
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "scheduled_at": {
                    "type": "string",
                    "description": "The scheduled time of the campaign in ISO 8601 format"
                  },
                  "scheduled_end_at": {
                    "type": "string",
                    "description": "The scheduled end time of the campaign in ISO 8601 format"
                  }
                },
                "required": [
                  "scheduled_at"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "The scheduled `Campaign` object",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Campaign"
                }
              }
            }
          }
        },
        "summary": "Schedule a campaign to begin"
      }
    },
    "/campaigns/{id}/preview.png": {
      "get": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the campaign",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "The preview image of the campaign",
            "content": {
              "text/html": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        },
        "summary": "Preview a campaign as an image",
        "security": [

        ]
      }
    },
    "/campaigns/{id}/preview": {
      "get": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the campaign",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "The HTML preview of the campaign",
            "content": {
              "text/html": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        },
        "summary": "Preview a campaign",
        "security": [

        ]
      }
    },
    "/campaigns/{id}/view": {
      "get": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the campaign",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "An interactable canvas with the campaign and its many steps",
            "content": {
              "text/html": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        },
        "summary": "View a campaign interactively",
        "security": [

        ]
      }
    },
    "/campaigns/{id}/executions": {
      "get": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the campaign",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "The executions of the campaign",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "executions": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/CampaignExecution"
                      },
                      "description": "The executions of the campaign"
                    }
                  },
                  "required": [
                    "executions"
                  ]
                }
              }
            }
          }
        },
        "summary": "Get the executions of a campaign"
      }
    },
    "/campaigns/{id}/embeds": {
      "post": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the campaign",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "The created `CampaignEmbed` object. Can be used to modify the campaign",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CampaignEmbed"
                }
              }
            }
          }
        },
        "summary": "Create a campaign embed"
      }
    },
    "/campaign_embeds/{id}/show": {
      "get": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the campaign embed",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "The embeddable HTML that will render a UI for editing the campaign",
            "content": {
              "text/html": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        },
        "summary": "Embed the campaign editor"
      }
    },
    "/campaign_embeds/{id}": {
      "get": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the campaign embed",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "A `CampaignEmbed` object",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CampaignEmbed"
                }
              }
            }
          }
        },
        "summary": "Retrieve a campaign embed"
      }
    },
    "/businesses/{id}/triggers": {
      "post": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the business",
            "required": true
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "anyOf": [
                  {
                    "type": "object",
                    "properties": {
                      "name": {
                        "type": "string",
                        "description": "The name of the trigger"
                      },
                      "trigger": {
                        "type": "string",
                        "description": "The event that triggers the trigger"
                      },
                      "project_defined_event": {
                        "type": "string",
                        "nullable": true,
                        "enum": [
                          null
                        ],
                        "description": "Must be null or not passed"
                      },
                      "filter": {
                        "type": "string",
                        "nullable": true,
                        "description": "A further filter on the trigger"
                      },
                      "metadata": {
                        "type": "object",
                        "additionalProperties": true,
                        "nullable": true,
                        "description": "Metadata for the trigger"
                      },
                      "steps": {
                        "type": "array",
                        "items": {
                          "anyOf": [
                            {
                              "type": "object",
                              "properties": {
                                "type": {
                                  "type": "string",
                                  "enum": [
                                    "email"
                                  ],
                                  "description": "The step type. Always \"email\" for this step"
                                },
                                "custom_step_id": {
                                  "type": "string",
                                  "description": "Optional. The ID of the custom step to use in this step. The type of the custom step must be \"email\" as well"
                                },
                                "email_template_id": {
                                  "type": "string",
                                  "description": "The ID of the email template to use in this step"
                                }
                              },
                              "required": [
                                "type",
                                "email_template_id"
                              ]
                            },
                            {
                              "type": "object",
                              "properties": {
                                "type": {
                                  "type": "string",
                                  "enum": [
                                    "email"
                                  ],
                                  "description": "The step type. Always \"email\" for this step"
                                },
                                "custom_step_id": {
                                  "type": "string",
                                  "description": "Optional. The ID of the custom step to use in this step. The type of the custom step must be \"email\" as well"
                                },
                                "subject": {
                                  "type": "string",
                                  "description": "The subject of the email template to use at this step"
                                },
                                "body": {
                                  "type": "string",
                                  "description": "The body of the email template to use at this step"
                                }
                              },
                              "required": [
                                "type",
                                "subject",
                                "body"
                              ]
                            },
                            {
                              "type": "object",
                              "properties": {
                                "type": {
                                  "type": "string",
                                  "enum": [
                                    "sms"
                                  ],
                                  "description": "The step type. Always \"sms\" for this step"
                                },
                                "custom_step_id": {
                                  "type": "string",
                                  "description": "Optional. The ID of the custom step to use in this step. The type of the custom step must be \"sms\" as well"
                                },
                                "sms_template_id": {
                                  "type": "string",
                                  "description": "The ID of the SMS template to use in this step"
                                }
                              },
                              "required": [
                                "type",
                                "sms_template_id"
                              ]
                            },
                            {
                              "type": "object",
                              "properties": {
                                "type": {
                                  "type": "string",
                                  "enum": [
                                    "sms"
                                  ],
                                  "description": "The step type. Always \"sms\" for this step"
                                },
                                "custom_step_id": {
                                  "type": "string",
                                  "description": "Optional. The ID of the custom step to use in this step. The type of the custom step must be \"sms\" as well"
                                },
                                "message": {
                                  "type": "string",
                                  "description": "The message to send in this step"
                                }
                              },
                              "required": [
                                "type",
                                "message"
                              ]
                            },
                            {
                              "type": "object",
                              "properties": {
                                "type": {
                                  "type": "string",
                                  "enum": [
                                    "wait"
                                  ],
                                  "description": "The step type. Always \"wait\" for this step"
                                },
                                "duration": {
                                  "type": "integer",
                                  "description": "The number of seconds to wait"
                                }
                              },
                              "required": [
                                "type",
                                "duration"
                              ]
                            }
                          ]
                        },
                        "description": "The steps of the trigger"
                      },
                      "email_address": {
                        "type": "string",
                        "nullable": true,
                        "description": "The ID of an email address or project email address. Will be used to send emails as part of this trigger"
                      },
                      "phone_number": {
                        "type": "string",
                        "nullable": true,
                        "description": "The ID of a phone number or project phone number. Will be used to send SMS messages as part of this trigger"
                      }
                    },
                    "required": [
                      "name",
                      "trigger",
                      "steps"
                    ]
                  },
                  {
                    "type": "object",
                    "properties": {
                      "name": {
                        "type": "string",
                        "description": "The name of the trigger"
                      },
                      "trigger": {
                        "type": "string",
                        "nullable": true,
                        "enum": [
                          null
                        ],
                        "description": "Must be null"
                      },
                      "project_defined_event": {
                        "type": "string",
                        "description": "The ID of a project defined event that triggers the trigger"
                      },
                      "filter": {
                        "type": "string",
                        "nullable": true,
                        "description": "A further filter on the trigger"
                      },
                      "metadata": {
                        "type": "object",
                        "additionalProperties": true,
                        "nullable": true,
                        "description": "Metadata for the trigger"
                      },
                      "steps": {
                        "type": "array",
                        "items": {
                          "anyOf": [
                            {
                              "type": "object",
                              "properties": {
                                "type": {
                                  "type": "string",
                                  "enum": [
                                    "email"
                                  ],
                                  "description": "The step type. Always \"email\" for this step"
                                },
                                "custom_step_id": {
                                  "type": "string",
                                  "description": "Optional. The ID of the custom step to use in this step. The type of the custom step must be \"email\" as well"
                                },
                                "email_template_id": {
                                  "type": "string",
                                  "description": "The ID of the email template to use in this step"
                                }
                              },
                              "required": [
                                "type",
                                "email_template_id"
                              ]
                            },
                            {
                              "type": "object",
                              "properties": {
                                "type": {
                                  "type": "string",
                                  "enum": [
                                    "email"
                                  ],
                                  "description": "The step type. Always \"email\" for this step"
                                },
                                "custom_step_id": {
                                  "type": "string",
                                  "description": "Optional. The ID of the custom step to use in this step. The type of the custom step must be \"email\" as well"
                                },
                                "subject": {
                                  "type": "string",
                                  "description": "The subject of the email template to use at this step"
                                },
                                "body": {
                                  "type": "string",
                                  "description": "The body of the email template to use at this step"
                                }
                              },
                              "required": [
                                "type",
                                "subject",
                                "body"
                              ]
                            },
                            {
                              "type": "object",
                              "properties": {
                                "type": {
                                  "type": "string",
                                  "enum": [
                                    "sms"
                                  ],
                                  "description": "The step type. Always \"sms\" for this step"
                                },
                                "custom_step_id": {
                                  "type": "string",
                                  "description": "Optional. The ID of the custom step to use in this step. The type of the custom step must be \"sms\" as well"
                                },
                                "sms_template_id": {
                                  "type": "string",
                                  "description": "The ID of the SMS template to use in this step"
                                }
                              },
                              "required": [
                                "type",
                                "sms_template_id"
                              ]
                            },
                            {
                              "type": "object",
                              "properties": {
                                "type": {
                                  "type": "string",
                                  "enum": [
                                    "sms"
                                  ],
                                  "description": "The step type. Always \"sms\" for this step"
                                },
                                "custom_step_id": {
                                  "type": "string",
                                  "description": "Optional. The ID of the custom step to use in this step. The type of the custom step must be \"sms\" as well"
                                },
                                "message": {
                                  "type": "string",
                                  "description": "The message to send in this step"
                                }
                              },
                              "required": [
                                "type",
                                "message"
                              ]
                            },
                            {
                              "type": "object",
                              "properties": {
                                "type": {
                                  "type": "string",
                                  "enum": [
                                    "wait"
                                  ],
                                  "description": "The step type. Always \"wait\" for this step"
                                },
                                "duration": {
                                  "type": "integer",
                                  "description": "The number of seconds to wait"
                                }
                              },
                              "required": [
                                "type",
                                "duration"
                              ]
                            }
                          ]
                        },
                        "description": "The steps of the trigger"
                      },
                      "email_address": {
                        "type": "string",
                        "nullable": true,
                        "description": "The ID of an email address or project email address. Will be used to send emails as part of this trigger"
                      },
                      "phone_number": {
                        "type": "string",
                        "nullable": true,
                        "description": "The ID of a phone number or project phone number. Will be used to send SMS messages as part of this trigger"
                      }
                    },
                    "required": [
                      "name",
                      "project_defined_event",
                      "steps"
                    ]
                  }
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "The created `Trigger` object",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Trigger"
                }
              }
            }
          }
        },
        "summary": "Create a trigger"
      },
      "get": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the business",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "An object with a `triggers` key which contains an array of `Trigger` objects",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "triggers": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/Trigger"
                      },
                      "description": "An array of triggers"
                    }
                  },
                  "required": [
                    "triggers"
                  ]
                }
              }
            }
          }
        },
        "summary": "List triggers for a business"
      }
    },
    "/triggers/{id}": {
      "get": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the trigger",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "A `Trigger` object",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Trigger"
                }
              }
            }
          }
        },
        "summary": "Retrieve a trigger"
      },
      "post": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the trigger",
            "required": true
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string",
                    "description": "The name of the trigger"
                  },
                  "trigger": {
                    "type": "string",
                    "nullable": true,
                    "description": "The event that triggers the trigger"
                  },
                  "project_defined_event": {
                    "type": "string",
                    "nullable": true,
                    "description": "The ID of a project defined event. Will be used to trigger the trigger"
                  },
                  "email_address": {
                    "type": "string",
                    "nullable": true,
                    "description": "The ID of an email address or project email address. Will be used to send emails as part of this trigger"
                  },
                  "phone_number": {
                    "type": "string",
                    "nullable": true,
                    "description": "The ID of a phone number or project phone number. Will be used to send SMS messages as part of this trigger"
                  },
                  "metadata": {
                    "type": "object",
                    "additionalProperties": true,
                    "nullable": true,
                    "description": "Metadata for the trigger"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "The updated `Trigger` object",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Trigger"
                }
              }
            }
          }
        },
        "summary": "Update a trigger"
      },
      "delete": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the trigger",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "The deleted `Trigger` object",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Trigger"
                }
              }
            }
          }
        },
        "summary": "Delete a trigger"
      }
    },
    "/triggers/{id}/activate": {
      "post": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the trigger",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "A `Trigger` object",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Trigger"
                }
              }
            }
          }
        },
        "summary": "Activate a trigger"
      }
    },
    "/triggers/{id}/deactivate": {
      "post": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the trigger",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "A `Trigger` object",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Trigger"
                }
              }
            }
          }
        },
        "summary": "Deactivate a trigger"
      }
    },
    "/triggers/{id}/executions": {
      "get": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the trigger",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "The executions of the trigger",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "executions": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/TriggerExecution"
                      },
                      "description": "The executions of the trigger"
                    }
                  },
                  "required": [
                    "executions"
                  ]
                }
              }
            }
          }
        },
        "summary": "Get the executions of a trigger"
      }
    },
    "/businesses/{id}/triggers/embeds": {
      "post": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the business",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "The created `TriggerEmbed` object. Can be used to create a new trigger for the business",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TriggerEmbed"
                }
              }
            }
          }
        },
        "summary": "Create a trigger embed to create a new trigger"
      }
    },
    "/triggers/{id}/embeds": {
      "post": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the trigger",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "The created `TriggerEmbed` object. Can be used to modify the trigger",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TriggerEmbed"
                }
              }
            }
          }
        },
        "summary": "Create a trigger embed"
      }
    },
    "/trigger_embeds/{id}": {
      "get": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the trigger embed",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "A `TriggerEmbed` object",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TriggerEmbed"
                }
              }
            }
          }
        },
        "summary": "Retrieve a trigger embed"
      }
    },
    "/trigger_embeds/{id}/show": {
      "get": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the trigger embed",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "The embeddable HTML that will render a UI for editing the trigger",
            "content": {
              "text/html": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        },
        "summary": "Embed the trigger editor"
      }
    },
    "/triggers/{id}/view": {
      "get": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the trigger",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "An interactable canvas with the trigger and its many steps",
            "content": {
              "text/html": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        },
        "summary": "View a trigger interactively",
        "security": [

        ]
      }
    },
    "/businesses/{id}/email_blasts": {
      "get": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the business",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "A dictionary with a `email_blasts` property which is an array of `EmailBlast` objects",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "email_blasts": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/EmailBlast"
                      },
                      "description": "An array of email blasts"
                    }
                  },
                  "required": [
                    "email_blasts"
                  ]
                }
              }
            }
          }
        },
        "summary": "List all email blasts"
      },
      "post": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the business",
            "required": true
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string",
                    "description": "The name of the email blast"
                  },
                  "email_template": {
                    "anyOf": [
                      {
                        "type": "string"
                      },
                      {
                      }
                    ],
                    "description": "The ID of the email template or the content of the email template to create"
                  },
                  "enrolled_customers": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "description": "The ID of the customers enrolled in the email blast"
                  },
                  "email_address": {
                    "type": "string",
                    "nullable": true,
                    "description": "The email address used to send the email blast. Will be the ID of an email-address-like object"
                  },
                  "segment": {
                    "type": "string",
                    "nullable": true,
                    "description": "The ID of the segment to attach to the email blast"
                  }
                },
                "required": [
                  "name",
                  "email_template"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "The created `EmailBlast` object",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EmailBlast"
                }
              }
            }
          }
        },
        "summary": "Create an email blast"
      }
    },
    "/email_blasts/{id}": {
      "get": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the email blast",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "An `EmailBlast` object",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EmailBlast"
                }
              }
            }
          }
        },
        "summary": "Retrieve an email blast"
      },
      "post": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the email blast",
            "required": true
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string",
                    "description": "The updated name of the email blast. Can be omitted"
                  },
                  "segment": {
                    "type": "string",
                    "nullable": true,
                    "description": "The updated segment of the email blast. Can be omitted"
                  },
                  "enrolled_customers": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "description": "The updated enrolled customer IDs of the email blast. Can be omitted"
                  },
                  "email_address": {
                    "type": "string",
                    "nullable": true,
                    "description": "The email address used to send emails in the email blast. Will be the ID of an email-like object"
                  },
                  "scheduled_at": {
                    "type": "string",
                    "nullable": true,
                    "description": "The scheduled time of the email blast in ISO 8601 format"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "The updated `EmailBlast` object",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EmailBlast"
                }
              }
            }
          }
        },
        "summary": "Update an email blast"
      },
      "delete": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the email blast",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "The deleted `EmailBlast` object",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EmailBlast"
                }
              }
            }
          }
        },
        "summary": "Delete an email blast"
      }
    },
    "/email_blasts/{id}/start": {
      "post": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the email blast",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "The started `EmailBlast` object",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EmailBlast"
                }
              }
            }
          }
        },
        "summary": "Start an email blast"
      }
    },
    "/email_blasts/{id}/stop": {
      "post": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the email blast",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "The stopped `EmailBlast` object",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EmailBlast"
                }
              }
            }
          }
        },
        "summary": "Stop an email blast"
      }
    },
    "/email_blasts/{id}/schedule": {
      "post": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the email blast",
            "required": true
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "scheduled_at": {
                    "type": "string",
                    "description": "The scheduled time of the email blast in ISO 8601 format"
                  }
                },
                "required": [
                  "scheduled_at"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "The scheduled `EmailBlast` object",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EmailBlast"
                }
              }
            }
          }
        },
        "summary": "Schedule an email blast"
      }
    },
    "/email_blasts/{id}/executions": {
      "get": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the email blast",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "The executions of the email blast",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "executions": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/EmailBlastExecution"
                      },
                      "description": "The executions of the email blast"
                    }
                  },
                  "required": [
                    "executions"
                  ]
                }
              }
            }
          }
        },
        "summary": "Get the executions of an email blast"
      }
    },
    "/project_email_addresses": {
      "get": {
        "responses": {
          "200": {
            "description": "An object with key `project_email_addresses` which maps to an array of `ProjectEmailAddress` objects",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "project_email_addresses": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/ProjectEmailAddress"
                      },
                      "description": "An array of project email addresses"
                    }
                  },
                  "required": [
                    "project_email_addresses"
                  ]
                }
              }
            }
          }
        },
        "summary": "List all project email addresses"
      }
    },
    "/project_email_addresses/{id}": {
      "get": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the project email address",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "The `ProjectEmailAddress` object",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProjectEmailAddress"
                }
              }
            }
          }
        },
        "summary": "Retrieve a project email address"
      }
    },
    "/project_phone_numbers": {
      "get": {
        "responses": {
          "200": {
            "description": "A dictionary with a `project_phone_numbers` property which is an array of `ProjectPhoneNumber` objects",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "project_phone_numbers": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/ProjectPhoneNumber"
                      },
                      "description": "An array of project phone numbers"
                    }
                  },
                  "required": [
                    "project_phone_numbers"
                  ]
                }
              }
            }
          }
        },
        "summary": "List all project phone numbers"
      }
    },
    "/project_phone_numbers/{id}": {
      "get": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the project phone number",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "The `ProjectPhoneNumber` object",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProjectPhoneNumber"
                }
              }
            }
          }
        },
        "summary": "Retrieve a project phone number"
      }
    },
    "/businesses/{id}/phone_numbers": {
      "get": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the business",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "The phone numbers associated with the business",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "phone_numbers": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/PhoneNumber"
                      },
                      "description": "The phone numbers for the business"
                    }
                  },
                  "required": [
                    "phone_numbers"
                  ]
                }
              }
            }
          }
        },
        "summary": "List all phone numbers for a business"
      }
    },
    "/phone_numbers/{id}": {
      "get": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the phone number",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "A `PhoneNumber` object",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PhoneNumber"
                }
              }
            }
          }
        },
        "summary": "Retrieve a phone number"
      }
    },
    "/employees/{id}/email_addresses": {
      "get": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the employee",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "A dictionary with an `email_addresses` property which is an array of `ConnectedEmailAddress` objects",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "email_addresses": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/BusinessEmailAddress"
                      },
                      "description": "An array of connected email addresses"
                    }
                  },
                  "required": [
                    "email_addresses"
                  ]
                }
              }
            }
          }
        },
        "summary": "List all connected email addresses for an employee"
      }
    },
    "/employees/{id}/email_addresses/connect/gmail": {
      "get": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the employee",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "An HTML page for the OAuth flow to connect the Gmail account",
            "content": {
              "text/html": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        },
        "summary": "Connect a Gmail to an employee",
        "security": [

        ]
      }
    },
    "/businesses/{id}/filter_definitions": {
      "get": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the business",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "A dictionary with a `filter_definitions` property which is an array of `FilterDefinition` objects",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "filter_definitions": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/FilterDefinition"
                      },
                      "description": "An array of filter definitions"
                    }
                  },
                  "required": [
                    "filter_definitions"
                  ]
                }
              }
            }
          }
        },
        "summary": "List all filter definitions"
      },
      "post": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the business",
            "required": true
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "label": {
                    "type": "string",
                    "description": "The label of the filter definition"
                  },
                  "type": {
                    "type": "string",
                    "enum": [
                      "select"
                    ],
                    "description": "The type of the filter definition. Must be \"select\""
                  },
                  "options": {
                    "type": "array",
                    "items": {
                      "$ref": "#/components/schemas/FilterDefinitionOption"
                    },
                    "description": "The options for the select dropdown"
                  }
                },
                "required": [
                  "label",
                  "type",
                  "options"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "The created `FilterDefinition` object",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FilterDefinition"
                }
              }
            }
          }
        },
        "summary": "Create a filter definition"
      }
    },
    "/filter_definitions/{id}": {
      "post": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the filter definition",
            "required": true
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "label": {
                    "type": "string",
                    "description": "The updated label of the filter definition. Can be omitted"
                  },
                  "type": {
                    "type": "string",
                    "enum": [
                      "select"
                    ],
                    "description": "The updated type of the filter definition. Must be \"select\". Can be omitted"
                  },
                  "options": {
                    "type": "array",
                    "items": {
                      "$ref": "#/components/schemas/FilterDefinitionOption"
                    },
                    "description": "The updated options of the filter definition. Can be omitted. Will wholly replace the existing options"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "The updated `FilterDefinition` object",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FilterDefinition"
                }
              }
            }
          }
        },
        "summary": "Update a filter definition"
      },
      "get": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the filter definition",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "A `FilterDefinition` object",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FilterDefinition"
                }
              }
            }
          }
        },
        "summary": "Retrieve a filter definition"
      },
      "delete": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the filter definition",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "The created `FilterDefinition` object",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FilterDefinition"
                }
              }
            }
          }
        },
        "summary": "Delete a filter definition"
      }
    },
    "/sync/businesses": {
      "post": {
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "anyOf": [
                  {
                    "type": "object",
                    "properties": {
                      "id": {
                        "type": "string",
                        "description": "The ID of the business"
                      },
                      "external_id": {
                        "type": "string",
                        "nullable": true,
                        "description": "The external ID of the business"
                      },
                      "name": {
                        "type": "string",
                        "description": "The name of the business"
                      },
                      "metadata": {
                        "type": "object",
                        "additionalProperties": true,
                        "description": "The metadata of the business"
                      }
                    },
                    "required": [
                      "id",
                      "name"
                    ]
                  },
                  {
                    "type": "object",
                    "properties": {
                      "external_id": {
                        "type": "string",
                        "description": "The external ID of the business"
                      },
                      "name": {
                        "type": "string",
                        "description": "The name of the business"
                      },
                      "metadata": {
                        "type": "object",
                        "additionalProperties": true,
                        "description": "The metadata of the business"
                      }
                    },
                    "required": [
                      "external_id",
                      "name"
                    ]
                  }
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "The synced `Business` object",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Business"
                }
              }
            }
          }
        },
        "summary": "Sync a business"
      }
    },
    "/sync/businesses/batch": {
      "post": {
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "businesses": {
                    "type": "array",
                    "items": {
                      "anyOf": [
                        {
                          "type": "object",
                          "properties": {
                            "id": {
                              "type": "string",
                              "description": "The ID of the business"
                            },
                            "external_id": {
                              "type": "string",
                              "nullable": true,
                              "description": "The external ID of the business"
                            },
                            "name": {
                              "type": "string",
                              "description": "The name of the business"
                            },
                            "metadata": {
                              "type": "object",
                              "additionalProperties": true,
                              "description": "The metadata of the business"
                            }
                          },
                          "required": [
                            "id",
                            "name"
                          ]
                        },
                        {
                          "type": "object",
                          "properties": {
                            "external_id": {
                              "type": "string",
                              "description": "The external ID of the business"
                            },
                            "name": {
                              "type": "string",
                              "description": "The name of the business"
                            },
                            "metadata": {
                              "type": "object",
                              "additionalProperties": true,
                              "description": "The metadata of the business"
                            }
                          },
                          "required": [
                            "external_id",
                            "name"
                          ]
                        }
                      ]
                    },
                    "description": "The businesses to sync"
                  }
                },
                "required": [
                  "businesses"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "The synced `Business` objects",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "businesses": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/Business",
                        "nullable": true
                      },
                      "description": "The businesses that were synced. Will be `null` for businesses that had errors"
                    }
                  },
                  "required": [
                    "businesses"
                  ]
                }
              }
            }
          }
        },
        "summary": "Sync a batch of businesses"
      }
    },
    "/sync/businesses/{id}/customers": {
      "post": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the business",
            "required": true
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "anyOf": [
                  {
                    "type": "object",
                    "properties": {
                      "id": {
                        "type": "string",
                        "description": "The ID of the customer"
                      },
                      "external_id": {
                        "type": "string",
                        "nullable": true,
                        "description": "The external ID of the customer"
                      },
                      "phone_number": {
                        "type": "string",
                        "nullable": true,
                        "description": "The phone number of the customer"
                      },
                      "email_address": {
                        "type": "string",
                        "nullable": true,
                        "description": "The email address of the customer"
                      },
                      "metadata": {
                        "type": "object",
                        "additionalProperties": true,
                        "description": "The metadata of the customer"
                      }
                    },
                    "required": [
                      "id"
                    ]
                  },
                  {
                    "type": "object",
                    "properties": {
                      "external_id": {
                        "type": "string",
                        "description": "The external ID of the customer"
                      },
                      "phone_number": {
                        "type": "string",
                        "nullable": true,
                        "description": "The phone number of the customer"
                      },
                      "email_address": {
                        "type": "string",
                        "nullable": true,
                        "description": "The email address of the customer"
                      },
                      "metadata": {
                        "type": "object",
                        "additionalProperties": true,
                        "description": "The metadata of the customer"
                      }
                    },
                    "required": [
                      "external_id"
                    ]
                  }
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "The synced `Customer` object",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Customer"
                }
              }
            }
          }
        },
        "summary": "Sync a customer"
      }
    },
    "/sync/businesses/{id}/customers/batch": {
      "post": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the business",
            "required": true
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "customers": {
                    "type": "array",
                    "items": {
                      "anyOf": [
                        {
                          "type": "object",
                          "properties": {
                            "id": {
                              "type": "string",
                              "description": "The ID of the customer"
                            },
                            "external_id": {
                              "type": "string",
                              "nullable": true,
                              "description": "The external ID of the customer"
                            },
                            "phone_number": {
                              "type": "string",
                              "nullable": true,
                              "description": "The phone number of the customer"
                            },
                            "email_address": {
                              "type": "string",
                              "nullable": true,
                              "description": "The email address of the customer"
                            },
                            "metadata": {
                              "type": "object",
                              "additionalProperties": true,
                              "description": "The metadata of the customer"
                            }
                          },
                          "required": [
                            "id"
                          ]
                        },
                        {
                          "type": "object",
                          "properties": {
                            "external_id": {
                              "type": "string",
                              "description": "The external ID of the customer"
                            },
                            "phone_number": {
                              "type": "string",
                              "nullable": true,
                              "description": "The phone number of the customer"
                            },
                            "email_address": {
                              "type": "string",
                              "nullable": true,
                              "description": "The email address of the customer"
                            },
                            "metadata": {
                              "type": "object",
                              "additionalProperties": true,
                              "description": "The metadata of the customer"
                            }
                          },
                          "required": [
                            "external_id"
                          ]
                        }
                      ]
                    },
                    "description": "The customers to sync"
                  }
                },
                "required": [
                  "customers"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "The customers that were synced",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "customers": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/Customer",
                        "nullable": true
                      },
                      "description": "The customers that were synced. Will be `null` for customers that had errors"
                    }
                  },
                  "required": [
                    "customers"
                  ]
                }
              }
            }
          }
        },
        "summary": "Sync a batch of customers"
      }
    },
    "/rewards_programs": {
      "get": {
        "responses": {
          "200": {
            "description": "A dictionary with a `rewards_programs` property which is an array of `RewardsProgram` objects",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "rewards_programs": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/RewardsProgram"
                      },
                      "description": "An array of rewards programs"
                    }
                  },
                  "required": [
                    "rewards_programs"
                  ]
                }
              }
            }
          }
        },
        "summary": "List all rewards programs"
      },
      "post": {
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "points_earned_per_dollar_spent": {
                    "type": "integer",
                    "description": "The number of points earned per dollar spent"
                  },
                  "point_redemption_value": {
                    "type": "string",
                    "description": "The value of a single point in dollars"
                  },
                  "points_for_member_class_attendance": {
                    "type": "integer",
                    "description": "The number of points earned for attending a class"
                  },
                  "points_for_referring_new_student": {
                    "type": "integer",
                    "description": "The number of points earned for referring a new student"
                  },
                  "points_for_referring_new_student_that_signs_up": {
                    "type": "integer",
                    "description": "The number of points earned for referring a new student that signs up"
                  },
                  "points_for_every_ten_classes_non_member": {
                    "type": "integer",
                    "description": "The number of points earned for every ten classes attended"
                  },
                  "points_for_first_visit_in_three_months": {
                    "type": "integer",
                    "description": "The number of points earned for first visit in three months"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "The created `RewardsProgram` object",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RewardsProgram"
                }
              }
            }
          }
        },
        "summary": "Create a rewards program"
      }
    },
    "/rewards_programs/{id}": {
      "get": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the rewards program",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "A `RewardsProgram` object",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RewardsProgram"
                }
              }
            }
          }
        },
        "summary": "Retrieve a rewards program"
      },
      "post": {
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "points_earned_per_dollar_spent": {
                    "type": "integer",
                    "description": "The number of points earned per dollar spent"
                  },
                  "point_redemption_value": {
                    "type": "string",
                    "description": "The value of a single point in dollars"
                  },
                  "points_for_member_class_attendance": {
                    "type": "integer",
                    "description": "The number of points earned for attending a class"
                  },
                  "points_for_referring_new_student": {
                    "type": "integer",
                    "description": "The number of points earned for referring a new student"
                  },
                  "points_for_referring_new_student_that_signs_up": {
                    "type": "integer",
                    "description": "The number of points earned for referring a new student that signs up"
                  },
                  "points_for_every_ten_classes_non_member": {
                    "type": "integer",
                    "description": "The number of points earned for every ten classes attended"
                  },
                  "points_for_first_visit_in_three_months": {
                    "type": "integer",
                    "description": "The number of points earned for first visit in three months"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "The updated `RewardsProgram` object",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RewardsProgram"
                }
              }
            }
          }
        },
        "summary": "Update a rewards program"
      }
    },
    "/businesses/{id}/rewards_program": {
      "get": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the business",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "The rewards program for the business",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RewardsProgram"
                }
              }
            }
          }
        },
        "summary": "Show a business's rewards program"
      }
    },
    "/rewards_programs/{id}/members": {
      "get": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the rewards program",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "An object with key `members` containing an array of `Member` objects",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "members": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/Member"
                      },
                      "description": "An array of members"
                    }
                  },
                  "required": [
                    "members"
                  ]
                }
              }
            }
          }
        },
        "summary": "List all members for a rewards program"
      },
      "post": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the rewards program",
            "required": true
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "user_id": {
                    "type": "string",
                    "description": "The ID of the user to associate with the new member"
                  }
                },
                "required": [
                  "user_id"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "The created `Member` object",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Member"
                }
              }
            }
          }
        },
        "summary": "Create a member"
      }
    },
    "/members/{id}": {
      "get": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the member",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "The `Member` object",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Member"
                }
              }
            }
          }
        },
        "summary": "Retrieve a member"
      }
    },
    "/locations/{id}/location_members": {
      "get": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the location",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "An object containing key `location_members` which is an array of `LocationMember` objects",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "location_members": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/LocationMember"
                      },
                      "description": "An array of location members"
                    }
                  },
                  "required": [
                    "location_members"
                  ]
                }
              }
            }
          }
        },
        "summary": "List all location members"
      },
      "post": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the location",
            "required": true
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "user_id": {
                    "type": "string",
                    "description": "The ID of the user"
                  }
                },
                "required": [
                  "user_id"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "The created `LocationMember` object",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LocationMember"
                }
              }
            }
          }
        },
        "summary": "Create a new location member"
      }
    },
    "/location_members/{id}": {
      "get": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the location member",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "The `LocationMember` object",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LocationMember"
                }
              }
            }
          }
        },
        "summary": "Retrieve a location member"
      }
    },
    "/rewards_programs/{id}/locations": {
      "get": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the rewards program",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "An object with a `locations` key containing an array of `Location` objects",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "locations": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/Location"
                      },
                      "description": "An array of `Location` objects"
                    }
                  },
                  "required": [
                    "locations"
                  ]
                }
              }
            }
          }
        },
        "summary": "List the locations under a rewards program"
      }
    },
    "/locations": {
      "get": {
        "responses": {
          "200": {
            "description": "A dictionary with a `locations` property which is an array of `Location` objects",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "locations": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/Location"
                      },
                      "description": "An array of `Location` objects"
                    }
                  },
                  "required": [
                    "locations"
                  ]
                }
              }
            }
          }
        },
        "summary": "List all locations"
      },
      "post": {
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "rewards_program_id": {
                    "type": "string",
                    "nullable": true,
                    "description": "The ID of the location's rewards program"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "The created `Location` object",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Location"
                }
              }
            }
          }
        },
        "summary": "Create a location"
      }
    },
    "/locations/{id}": {
      "get": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the location",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "A `Location` object",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Location"
                }
              }
            }
          }
        },
        "summary": "Retrieve a location"
      },
      "post": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the location",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "The updated `Location` object",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Location"
                }
              }
            }
          }
        },
        "summary": "Update a location"
      }
    },
    "/rewards_programs/{id}/tiers": {
      "get": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the rewards program",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "An object with a `tiers` key which contains an array of `Tier` objects",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "tiers": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/Tier"
                      },
                      "description": "An array of tiers"
                    }
                  },
                  "required": [
                    "tiers"
                  ]
                }
              }
            }
          }
        },
        "summary": "List all tiers"
      },
      "post": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the rewards program",
            "required": true
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string",
                    "description": "The name of the tier"
                  },
                  "minimum_points": {
                    "type": "integer",
                    "description": "The minimum number of points to qualify for the tier"
                  },
                  "perks": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "description": "Descriptions of all the perks associated with the tier"
                  }
                },
                "required": [
                  "name",
                  "minimum_points",
                  "perks"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "The created `Tier` object",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Tier"
                }
              }
            }
          }
        },
        "summary": "Create a tier"
      }
    },
    "/tiers/{id}": {
      "post": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the tier",
            "required": true
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string",
                    "description": "The name of the tier"
                  },
                  "minimum_points": {
                    "type": "integer",
                    "description": "The minimum number of points to qualify for the tier"
                  },
                  "perks": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "description": "Descriptions of all the perks associated with the tier"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "The updated `Tier` object",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Tier"
                }
              }
            }
          }
        },
        "summary": "Update a tier"
      }
    },
    "/customers/{id}/rewards_profile": {
      "get": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the customer",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "The rewards profile for the customer",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RewardsProfile"
                }
              }
            }
          }
        },
        "summary": "Show a customer's rewards profile"
      }
    },
    "/businesses/{id}/rewards_profiles": {
      "get": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the business",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "The rewards profiles for all customers of the business",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RewardsProfile"
                }
              }
            }
          }
        },
        "summary": "Show all rewards profiles"
      }
    },
    "/users": {
      "get": {
        "responses": {
          "200": {
            "description": "A dictionary with a `users` property which is an array of `User` objects",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "users": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/User"
                      },
                      "description": "An array of users"
                    }
                  },
                  "required": [
                    "users"
                  ]
                }
              }
            }
          }
        },
        "summary": "List all users"
      },
      "post": {
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "phone_number": {
                    "type": "string",
                    "description": "The user's phone number"
                  }
                },
                "required": [
                  "phone_number"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "The created `User` object",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/User"
                }
              }
            }
          }
        },
        "summary": "Create a user"
      }
    },
    "/users/{id}": {
      "get": {
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The ID of the user",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "A `User` object",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/User"
                }
              }
            }
          }
        },
        "summary": "Retrieve a user"
      }
    }
  },
  "security": [
    {
      "HttpBasicAuth": [

      ]
    }
  ],
  "components": {
    "securitySchemes": {
      "HttpBasicAuth": {
        "type": "http",
        "scheme": "basic"
      }
    },
    "schemas": {
      "Business": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "The ID of the business"
          },
          "name": {
            "type": "string",
            "description": "The name of the business"
          },
          "metadata": {
            "description": "Arbitrary metadata associated with this business"
          }
        },
        "required": [
          "id",
          "name",
          "metadata"
        ],
        "title": "The Business object"
      },
      "BusinessEmailAddress": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "The ID of the business's email address"
          },
          "email_address": {
            "type": "string",
            "description": "The email address of the business's email address"
          },
          "display_name": {
            "type": "string",
            "description": "The display name of the business's email address"
          }
        },
        "required": [
          "id",
          "email_address",
          "display_name"
        ],
        "title": "The Business Email Address object"
      },
      "Campaign": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "The ID of the campaign"
          },
          "name": {
            "type": "string",
            "description": "The name of the campaign"
          },
          "enrolled_customers": {
            "anyOf": [
              {
                "type": "array",
                "items": {
                  "type": "string"
                }
              },
              {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Customer"
                }
              }
            ],
            "description": "The customers enrolled in the campaign"
          },
          "segment": {
            "type": "string",
            "nullable": true,
            "description": "The segment attached to the campaign"
          },
          "steps": {
            "type": "array",
            "items": {
              "anyOf": [
                {
                  "type": "object",
                  "properties": {
                    "type": {
                      "type": "string",
                      "enum": [
                        "email"
                      ],
                      "description": "The step type. Always \"email\" for this step"
                    },
                    "custom_step_id": {
                      "type": "string",
                      "description": "Optional. The ID of the custom step to use in this step. The type of the custom step must be \"email\" as well"
                    },
                    "email_template_id": {
                      "type": "string",
                      "description": "The ID of the email template to use in this step"
                    }
                  },
                  "required": [
                    "type",
                    "email_template_id"
                  ]
                },
                {
                  "type": "object",
                  "properties": {
                    "type": {
                      "type": "string",
                      "enum": [
                        "email"
                      ],
                      "description": "The step type. Always \"email\" for this step"
                    },
                    "custom_step_id": {
                      "type": "string",
                      "description": "Optional. The ID of the custom step to use in this step. The type of the custom step must be \"email\" as well"
                    },
                    "subject": {
                      "type": "string",
                      "description": "The subject of the email template to use at this step"
                    },
                    "body": {
                      "type": "string",
                      "description": "The body of the email template to use at this step"
                    }
                  },
                  "required": [
                    "type",
                    "subject",
                    "body"
                  ]
                },
                {
                  "type": "object",
                  "properties": {
                    "type": {
                      "type": "string",
                      "enum": [
                        "sms"
                      ],
                      "description": "The step type. Always \"sms\" for this step"
                    },
                    "custom_step_id": {
                      "type": "string",
                      "description": "Optional. The ID of the custom step to use in this step. The type of the custom step must be \"sms\" as well"
                    },
                    "sms_template_id": {
                      "type": "string",
                      "description": "The ID of the SMS template to use in this step"
                    }
                  },
                  "required": [
                    "type",
                    "sms_template_id"
                  ]
                },
                {
                  "type": "object",
                  "properties": {
                    "type": {
                      "type": "string",
                      "enum": [
                        "sms"
                      ],
                      "description": "The step type. Always \"sms\" for this step"
                    },
                    "custom_step_id": {
                      "type": "string",
                      "description": "Optional. The ID of the custom step to use in this step. The type of the custom step must be \"sms\" as well"
                    },
                    "message": {
                      "type": "string",
                      "description": "The message to send in this step"
                    }
                  },
                  "required": [
                    "type",
                    "message"
                  ]
                },
                {
                  "type": "object",
                  "properties": {
                    "type": {
                      "type": "string",
                      "enum": [
                        "wait"
                      ],
                      "description": "The step type. Always \"wait\" for this step"
                    },
                    "duration": {
                      "type": "integer",
                      "description": "The number of seconds to wait"
                    }
                  },
                  "required": [
                    "type",
                    "duration"
                  ]
                }
              ]
            },
            "description": "The steps of the campaign"
          },
          "email_address": {
            "type": "string",
            "nullable": true,
            "description": "The email address used to send emails in the campaign. Will be the ID of an email-like object"
          },
          "phone_number": {
            "type": "string",
            "nullable": true,
            "description": "The phone number used to send SMS messages in the campaign. Will be the ID of a phone number-like object"
          },
          "status": {
            "type": "string",
            "description": "The status of the campaign. One of \"draft\", \"scheduled\", \"started\", or \"stopped\""
          },
          "scheduled_at": {
            "type": "string",
            "nullable": true,
            "description": "The time when the campaign is scheduled to start in ISO 8601 format"
          },
          "statistics": {
            "type": "object",
            "properties": {
              "total_customers_enrolled": {
                "type": "integer",
                "description": "The number of customers enrolled in the campaign"
              },
              "total_customers_started": {
                "type": "integer",
                "description": "The number of customers who have started receiving messages in the campaign"
              },
              "total_customers_finished": {
                "type": "integer",
                "description": "The number of customers who have finished receiving all the messages in the campaign"
              }
            },
            "required": [
              "total_customers_enrolled",
              "total_customers_started",
              "total_customers_finished"
            ],
            "description": "The statistics of the campaign. Includes information about the number of customers enrolled and their status in the campaign"
          },
          "consumed_message_segments": {
            "type": "object",
            "properties": {
              "sms": {
                "type": "integer",
                "description": "The number of SMS segments"
              },
              "mms": {
                "type": "integer",
                "description": "The number of MMS segments"
              },
              "email": {
                "type": "integer",
                "description": "The number of email segments"
              }
            },
            "required": [
              "sms",
              "mms",
              "email"
            ],
            "description": "The number of message segments actually used by the campaign"
          },
          "estimated_message_segments": {
            "type": "object",
            "properties": {
              "sms": {
                "type": "integer",
                "description": "The number of SMS segments"
              },
              "mms": {
                "type": "integer",
                "description": "The number of MMS segments"
              },
              "email": {
                "type": "integer",
                "description": "The number of email segments"
              }
            },
            "required": [
              "sms",
              "mms",
              "email"
            ],
            "description": "The number of message segments estimated to be used by the campaign"
          }
        },
        "required": [
          "id",
          "name",
          "enrolled_customers",
          "segment",
          "steps",
          "email_address",
          "phone_number",
          "status",
          "scheduled_at",
          "statistics",
          "consumed_message_segments",
          "estimated_message_segments"
        ],
        "title": "The Campaign object"
      },
      "CampaignEmbed": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "The ID of the campaign embed"
          },
          "url": {
            "type": "string",
            "description": "The URL to embed the campaign editor"
          },
          "expires_at": {
            "type": "string",
            "description": "When the campaign embed expires and needs to be regenerated"
          }
        },
        "required": [
          "id",
          "url",
          "expires_at"
        ],
        "title": "The Campaign Embed object"
      },
      "CampaignExecution": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "The ID of the campaign execution"
          },
          "customer": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "$ref": "#/components/schemas/Customer"
              }
            ],
            "description": "The customer executing through the campaign"
          },
          "scheduled_at": {
            "type": "string",
            "nullable": true,
            "description": "The scheduled time for the next step fo the campaign execution"
          },
          "step_count": {
            "type": "integer",
            "description": "The index of the next step of the campaign to execute"
          }
        },
        "required": [
          "id",
          "customer",
          "scheduled_at",
          "step_count"
        ],
        "title": "The Campaign Execution object"
      },
      "Customer": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "The ID of the customer"
          },
          "email_address": {
            "type": "string",
            "nullable": true,
            "description": "The email address of the customer"
          },
          "phone_number": {
            "type": "string",
            "nullable": true,
            "description": "The phone number of the customer"
          },
          "metadata": {
            "description": "The metadata associated with this customer"
          }
        },
        "required": [
          "id",
          "email_address",
          "phone_number",
          "metadata"
        ],
        "title": "The Customer object"
      },
      "DraftEmail": {
        "type": "object",
        "properties": {
          "from": {
            "type": "string",
            "description": "The from address of the draft email"
          },
          "to": {
            "type": "string",
            "description": "The to address of the draft email"
          },
          "subject": {
            "type": "string",
            "description": "The subject of the draft email"
          },
          "body": {
            "type": "string",
            "description": "The body of the draft email"
          }
        },
        "required": [
          "from",
          "to",
          "subject",
          "body"
        ],
        "title": "The Draft Email object"
      },
      "DraftSMSMessage": {
        "type": "object",
        "properties": {
          "from": {
            "type": "string",
            "description": "The phone number the SMS message would be sent from"
          },
          "to": {
            "type": "string",
            "description": "The phone number the SMS message would be sent to"
          },
          "message": {
            "type": "string",
            "description": "The message that would be sent"
          }
        },
        "required": [
          "from",
          "to",
          "message"
        ],
        "title": "The Draft SMS Message object"
      },
      "Email": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "The ID of the email"
          }
        },
        "required": [
          "id"
        ],
        "title": "The Email object"
      },
      "EmailBlast": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "The ID of the email blast"
          },
          "name": {
            "type": "string",
            "description": "The name of the email blast"
          },
          "email_template": {
            "type": "string",
            "nullable": true,
            "description": "The email template associated with the email blast. If this is not null, `one_off_email_template` will be null"
          },
          "one_off_email_template": {
            "type": "string",
            "nullable": true,
            "description": "The one-off email template associated with the email blast. If this is not null, `email_template` will be null"
          },
          "subject": {
            "type": "string",
            "nullable": true,
            "description": "The manually set subject of the email blast"
          },
          "template_json": {
            "nullable": true,
            "description": "The template JSON of the email blast"
          },
          "enrolled_customers": {
            "anyOf": [
              {
                "type": "array",
                "items": {
                  "type": "string"
                }
              },
              {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Customer"
                }
              }
            ],
            "description": "The customers enrolled in the email blast"
          },
          "segment": {
            "type": "string",
            "nullable": true,
            "description": "The segment attached to the email blast"
          },
          "email_address": {
            "type": "string",
            "nullable": true,
            "description": "The email address used to send the email blast. Will be the ID of an email-address-like object"
          },
          "status": {
            "type": "string",
            "description": "The status of the email blast. One of \"draft\", \"scheduled\", \"started\", or \"stopped\""
          },
          "scheduled_at": {
            "type": "string",
            "nullable": true,
            "description": "The time when the email blast is scheduled to start in ISO 8601 format"
          }
        },
        "required": [
          "id",
          "name",
          "email_template",
          "one_off_email_template",
          "subject",
          "template_json",
          "enrolled_customers",
          "segment",
          "email_address",
          "status",
          "scheduled_at"
        ],
        "title": "The Email Blast object"
      },
      "EmailBlastExecution": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "The ID of the email blast execution"
          },
          "customer": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "$ref": "#/components/schemas/Customer"
              }
            ],
            "description": "The customer executing through the email blast"
          },
          "to": {
            "type": "string",
            "description": "The email address the email blast was actually sent to"
          },
          "sent_at": {
            "type": "string",
            "nullable": true,
            "description": "The time when the email blast was sent in ISO 8601 format"
          },
          "delivered_at": {
            "type": "string",
            "nullable": true,
            "description": "The time when the email blast was delivered in ISO 8601 format"
          },
          "opened_at": {
            "type": "string",
            "nullable": true,
            "description": "The time when the email blast was opened in ISO 8601 format"
          }
        },
        "required": [
          "id",
          "customer",
          "to",
          "sent_at",
          "delivered_at",
          "opened_at"
        ],
        "title": "The Email Blast Execution object"
      },
      "EmailTemplate": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "The ID of the email template"
          },
          "name": {
            "type": "string",
            "description": "The name of the email template"
          },
          "subject": {
            "type": "string",
            "description": "The subject of the email template. Variables are supported via `{{ variableName }}`"
          },
          "body": {
            "type": "string",
            "nullable": true,
            "description": "The body of the email template. May be null. Variables are supported via `{{ variableName }}`"
          },
          "template_json": {
            "nullable": true,
            "description": "The JSON representing the rich text email template. May be null"
          },
          "template_html": {
            "type": "string",
            "nullable": true,
            "description": "The HTML representation of the rich text email. May be null"
          },
          "attachments": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "content": {
                  "type": "string",
                  "description": "The content of the attachment as a data url, e.g. 'data:image/png;base64,abcd1234'"
                },
                "name": {
                  "type": "string",
                  "description": "The intended name of the attachment"
                }
              },
              "required": [
                "content",
                "name"
              ]
            },
            "description": "An array of attachment associted with the email template. Will be sent with every email built from this template"
          }
        },
        "required": [
          "id",
          "name",
          "subject",
          "body",
          "template_json",
          "template_html",
          "attachments"
        ],
        "title": "The Email Template object"
      },
      "EmailTemplateEmbed": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "The ID of the email template embed"
          },
          "url": {
            "type": "string",
            "description": "The URL to embed the email template editor"
          },
          "expires_at": {
            "type": "string",
            "description": "When the email template embed expires and needs to be regenerated"
          }
        },
        "required": [
          "id",
          "url",
          "expires_at"
        ],
        "title": "The Email Template Embed object"
      },
      "Employee": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "The ID of the employee"
          },
          "email_address": {
            "type": "string",
            "nullable": true,
            "description": "The email address of the employee"
          },
          "phone_number": {
            "type": "string",
            "nullable": true,
            "description": "The phone number of the employee"
          }
        },
        "required": [
          "id",
          "email_address",
          "phone_number"
        ],
        "title": "The Employee object"
      },
      "Event": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "The ID of the event"
          },
          "event_name": {
            "type": "string",
            "description": "The name of the event"
          },
          "member": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "$ref": "#/components/schemas/Member"
              }
            ],
            "description": "The member associated with the event"
          }
        },
        "required": [
          "id",
          "event_name",
          "member"
        ],
        "title": "The Event object"
      },
      "FilterDefinition": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "The ID of the filter definition"
          },
          "label": {
            "type": "string",
            "description": "The label of the filter definition"
          },
          "type": {
            "type": "string",
            "enum": [
              "select"
            ],
            "description": "The type of the filter definition. Must be \"select\""
          },
          "options": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/FilterDefinitionOption"
            },
            "description": "The options for the select dropdown"
          }
        },
        "required": [
          "id",
          "label",
          "type",
          "options"
        ],
        "title": "The Filter Definition object"
      },
      "FilterDefinitionOption": {
        "type": "object",
        "properties": {
          "label": {
            "type": "string",
            "description": "The label of the option"
          },
          "value": {
            "type": "string",
            "description": "The value of the option"
          }
        },
        "required": [
          "label",
          "value"
        ],
        "title": "The Filter Definition Option object"
      },
      "Flow": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "The ID of the flow"
          },
          "expires_at": {
            "type": "string",
            "description": "When the flow expires"
          },
          "url": {
            "type": "string",
            "description": "The URL to embed the flow"
          }
        },
        "required": [
          "id",
          "expires_at",
          "url"
        ],
        "title": "The Flow object"
      },
      "Location": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "The ID of the location"
          },
          "rewards_program": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/RewardsProgram"
              },
              {
                "type": "string"
              }
            ],
            "nullable": true,
            "description": "The location's rewards program"
          }
        },
        "required": [
          "id",
          "rewards_program"
        ],
        "title": "The Location object"
      },
      "LocationMember": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "The ID of the location member"
          },
          "user": {
            "type": "string",
            "description": "The user associated with the location member"
          },
          "location": {
            "type": "string",
            "description": "The location associated with the location member"
          }
        },
        "required": [
          "id",
          "user",
          "location"
        ],
        "title": "The Location Member object"
      },
      "Member": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "The ID of the member"
          },
          "user": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "$ref": "#/components/schemas/User"
              }
            ],
            "description": "The user associated with the member"
          },
          "rewards_program": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "$ref": "#/components/schemas/RewardsProgram"
              }
            ],
            "description": "The member's rewards program"
          },
          "point_total": {
            "type": "integer",
            "description": "The total number of points the member has earned in their lifetime"
          },
          "point_balance": {
            "type": "integer",
            "description": "The number of points the member currently has"
          }
        },
        "required": [
          "id",
          "user",
          "rewards_program",
          "point_total",
          "point_balance"
        ],
        "title": "The Member object"
      },
      "PhoneNumber": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "The ID of the phone number"
          },
          "phone_number": {
            "type": "string",
            "description": "The phone number"
          }
        },
        "required": [
          "id",
          "phone_number"
        ],
        "title": "The Phone Number object"
      },
      "Project": {
        "type": "object",
        "properties": {
          "new_email_editor_ff": {
            "type": "boolean",
            "description": "Whether the new email editor is enabled"
          }
        },
        "required": [
          "new_email_editor_ff"
        ],
        "title": "The Project object"
      },
      "ProjectDefinedEvent": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "The ID of the project defined event"
          },
          "event": {
            "type": "string",
            "description": "The event name. Likely takes the form `customer.created` or similar"
          },
          "display_text": {
            "type": "string",
            "description": "The human-readable text for this event. Should grammatically follow \"When...\" e.g. \"a customer is created\""
          }
        },
        "required": [
          "id",
          "event",
          "display_text"
        ],
        "title": "The ProjectDefinedEvent object"
      },
      "ProjectEmailAddress": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "The ID of the email address"
          },
          "email_address": {
            "type": "string",
            "description": "The email address"
          },
          "display_name": {
            "type": "string",
            "description": "The readable name of the email address"
          }
        },
        "required": [
          "id",
          "email_address",
          "display_name"
        ],
        "title": "The Project Email Address object"
      },
      "ProjectEmailDomain": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "The ID of the email domain"
          },
          "domain": {
            "type": "string",
            "description": "The domain for email addresses"
          }
        },
        "required": [
          "id",
          "domain"
        ],
        "title": "The Project Email Domain object"
      },
      "ProjectEmailTemplate": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "The ID of the email template"
          },
          "name": {
            "type": "string",
            "description": "The name of the email template"
          },
          "subject": {
            "type": "string",
            "description": "The subject of the email template"
          },
          "body": {
            "type": "string",
            "nullable": true,
            "description": "The body of the email template. If present, `template_html` and `template_json` must be `null`"
          },
          "template_html": {
            "type": "string",
            "nullable": true,
            "description": "The HTML of the email template. If present, `body` and `template_json` must be `null`"
          },
          "template_json": {
            "type": "string",
            "nullable": true,
            "description": "The JSON of the email template. If present, `body` and `template_html` must be `null`"
          }
        },
        "required": [
          "id",
          "name",
          "subject",
          "body",
          "template_html",
          "template_json"
        ],
        "title": "The Project Email Template object"
      },
      "ProjectPhoneNumber": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "The ID of the phone number"
          },
          "phone_number": {
            "type": "string",
            "description": "The phone number"
          }
        },
        "required": [
          "id",
          "phone_number"
        ],
        "title": "The Project Phone Number object"
      },
      "RewardsProfile": {
        "type": "object",
        "properties": {
          "points": {
            "type": "integer",
            "description": "The number of points the customer has"
          },
          "customer": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "$ref": "#/components/schemas/Customer"
              }
            ],
            "description": "The customer associated with the rewards profile"
          },
          "tier": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "$ref": "#/components/schemas/Tier"
              }
            ],
            "nullable": true,
            "description": "The tier of the customer"
          }
        },
        "required": [
          "points",
          "customer",
          "tier"
        ],
        "title": "The Rewards Profile object"
      },
      "RewardsProgram": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "The ID of the rewards program"
          },
          "points_earned_per_dollar_spent": {
            "type": "integer",
            "description": "The number of points earned per dollar spent"
          },
          "point_redemption_value": {
            "type": "string",
            "description": "The value of a single point in dollars"
          },
          "points_for_member_class_attendance": {
            "type": "integer",
            "description": "The number of points earned for attending a class"
          },
          "points_for_referring_new_student": {
            "type": "integer",
            "description": "The number of points earned for referring a new student"
          },
          "points_for_referring_new_student_that_signs_up": {
            "type": "integer",
            "description": "The number of points earned for referring a new student that signs up"
          },
          "points_for_every_ten_classes_non_member": {
            "type": "integer",
            "description": "The number of points earned for every ten classes attended"
          },
          "points_for_first_visit_in_three_months": {
            "type": "integer",
            "description": "The number of points earned for first visit in three months"
          }
        },
        "required": [
          "id",
          "points_earned_per_dollar_spent",
          "point_redemption_value",
          "points_for_member_class_attendance",
          "points_for_referring_new_student",
          "points_for_referring_new_student_that_signs_up",
          "points_for_every_ten_classes_non_member",
          "points_for_first_visit_in_three_months"
        ],
        "title": "The Rewards Program object"
      },
      "SMSMessage": {
        "type": "object",
        "properties": {
          "from": {
            "type": "string",
            "description": "The phone number the SMS message was sent from"
          },
          "to": {
            "type": "string",
            "description": "The phone number the SMS message was sent to"
          },
          "message": {
            "type": "string",
            "description": "The message that was sent"
          }
        },
        "required": [
          "from",
          "to",
          "message"
        ],
        "title": "The SMS Message object"
      },
      "SMSTemplate": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "The ID of the SMS template"
          },
          "name": {
            "type": "string",
            "description": "The name of the SMS template"
          },
          "message": {
            "type": "string",
            "description": "The message of the SMS template. Variables are supported via `{{ variableName }}`"
          },
          "estimated_sms_segments": {
            "type": "integer",
            "description": "The estimated number of SMS segments"
          },
          "estimated_segments": {
            "type": "object",
            "properties": {
              "sms": {
                "type": "integer",
                "description": "The number of SMS segments"
              },
              "mms": {
                "type": "integer",
                "description": "The number of MMS segments"
              }
            },
            "required": [
              "sms",
              "mms"
            ],
            "description": "The estimated number of segments of each type. Has keys `sms` and `mms`"
          }
        },
        "required": [
          "id",
          "name",
          "message",
          "estimated_sms_segments",
          "estimated_segments"
        ],
        "title": "The SMS Template object"
      },
      "SMSTemplateEmbed": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "The ID of the SMS template embed"
          },
          "url": {
            "type": "string",
            "description": "The URL to embed the SMS template editor"
          },
          "expires_at": {
            "type": "string",
            "description": "When the SMS template embed expires and needs to be regenerated"
          }
        },
        "required": [
          "id",
          "url",
          "expires_at"
        ],
        "title": "The SMS Template Embed object"
      },
      "Segment": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "The ID of the segment"
          },
          "name": {
            "type": "string",
            "description": "The name of the segment"
          },
          "filter": {
            "type": "string",
            "nullable": true,
            "description": "The filter for this segment"
          }
        },
        "required": [
          "id",
          "name",
          "filter"
        ],
        "title": "The Segment object"
      },
      "Thread": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "The ID of the thread"
          }
        },
        "required": [
          "id"
        ],
        "title": "The Thread object"
      },
      "Tier": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "The ID of the tier"
          },
          "name": {
            "type": "string",
            "description": "The tier's name"
          },
          "minimum_points": {
            "type": "integer",
            "description": "The minimum number of points to reach this tier"
          },
          "perks": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "The perks associated with reaching this tier"
          }
        },
        "required": [
          "id",
          "name",
          "minimum_points",
          "perks"
        ],
        "title": "The Tier object"
      },
      "Trigger": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "The ID of the trigger"
          },
          "name": {
            "type": "string",
            "description": "The name of the trigger"
          },
          "trigger": {
            "type": "string",
            "description": "The event that triggers the trigger"
          },
          "steps": {
            "type": "array",
            "items": {
              "anyOf": [
                {
                  "type": "object",
                  "properties": {
                    "type": {
                      "type": "string",
                      "enum": [
                        "email"
                      ],
                      "description": "The step type. Always \"email\" for this step"
                    },
                    "custom_step_id": {
                      "type": "string",
                      "description": "Optional. The ID of the custom step to use in this step. The type of the custom step must be \"email\" as well"
                    },
                    "email_template_id": {
                      "type": "string",
                      "description": "The ID of the email template to use in this step"
                    }
                  },
                  "required": [
                    "type",
                    "email_template_id"
                  ]
                },
                {
                  "type": "object",
                  "properties": {
                    "type": {
                      "type": "string",
                      "enum": [
                        "email"
                      ],
                      "description": "The step type. Always \"email\" for this step"
                    },
                    "custom_step_id": {
                      "type": "string",
                      "description": "Optional. The ID of the custom step to use in this step. The type of the custom step must be \"email\" as well"
                    },
                    "subject": {
                      "type": "string",
                      "description": "The subject of the email template to use at this step"
                    },
                    "body": {
                      "type": "string",
                      "description": "The body of the email template to use at this step"
                    }
                  },
                  "required": [
                    "type",
                    "subject",
                    "body"
                  ]
                },
                {
                  "type": "object",
                  "properties": {
                    "type": {
                      "type": "string",
                      "enum": [
                        "sms"
                      ],
                      "description": "The step type. Always \"sms\" for this step"
                    },
                    "custom_step_id": {
                      "type": "string",
                      "description": "Optional. The ID of the custom step to use in this step. The type of the custom step must be \"sms\" as well"
                    },
                    "sms_template_id": {
                      "type": "string",
                      "description": "The ID of the SMS template to use in this step"
                    }
                  },
                  "required": [
                    "type",
                    "sms_template_id"
                  ]
                },
                {
                  "type": "object",
                  "properties": {
                    "type": {
                      "type": "string",
                      "enum": [
                        "sms"
                      ],
                      "description": "The step type. Always \"sms\" for this step"
                    },
                    "custom_step_id": {
                      "type": "string",
                      "description": "Optional. The ID of the custom step to use in this step. The type of the custom step must be \"sms\" as well"
                    },
                    "message": {
                      "type": "string",
                      "description": "The message to send in this step"
                    }
                  },
                  "required": [
                    "type",
                    "message"
                  ]
                },
                {
                  "type": "object",
                  "properties": {
                    "type": {
                      "type": "string",
                      "enum": [
                        "wait"
                      ],
                      "description": "The step type. Always \"wait\" for this step"
                    },
                    "duration": {
                      "type": "integer",
                      "description": "The number of seconds to wait"
                    }
                  },
                  "required": [
                    "type",
                    "duration"
                  ]
                }
              ]
            },
            "description": "The steps of the trigger"
          },
          "status": {
            "anyOf": [
              {
                "type": "string",
                "enum": [
                  "draft"
                ]
              },
              {
                "type": "string",
                "enum": [
                  "active"
                ]
              },
              {
                "type": "string",
                "enum": [
                  "inactive"
                ]
              }
            ],
            "description": "The status of the trigger. One of \"draft\", \"active\", or \"inactive\""
          },
          "filter": {
            "type": "string",
            "nullable": true,
            "description": "An additional filter that determines if the trigger should be run"
          },
          "email_address": {
            "type": "string",
            "nullable": true,
            "description": "The ID of the email address or project email address associated with the trigger. Will be used to send emails as part of this trigger"
          },
          "phone_number": {
            "type": "string",
            "nullable": true,
            "description": "The ID of the phone number or project phone number associated with the trigger. Will be used to send SMS messages as part of this trigger"
          }
        },
        "required": [
          "id",
          "name",
          "trigger",
          "steps",
          "status",
          "filter",
          "email_address",
          "phone_number"
        ],
        "title": "The Trigger object"
      },
      "TriggerEmbed": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "The ID of the trigger embed"
          },
          "url": {
            "type": "string",
            "description": "The URL to embed the trigger editor"
          },
          "expires_at": {
            "type": "string",
            "description": "When the trigger embed expires and needs to be regenerated"
          }
        },
        "required": [
          "id",
          "url",
          "expires_at"
        ],
        "title": "The Trigger Embed object"
      },
      "TriggerExecution": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "The ID of the trigger execution"
          },
          "customer": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "$ref": "#/components/schemas/Customer"
              }
            ],
            "description": "The customer executing through the trigger"
          },
          "scheduled_at": {
            "type": "string",
            "nullable": true,
            "description": "The scheduled time for the next step fo the trigger execution"
          },
          "step_count": {
            "type": "integer",
            "description": "The index of the next step of the trigger to execute"
          }
        },
        "required": [
          "id",
          "customer",
          "scheduled_at",
          "step_count"
        ],
        "title": "The Trigger Execution object"
      },
      "UnsubscribeEmbed": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "The ID of the unsubscribe embed"
          },
          "url": {
            "type": "string",
            "description": "The URL to embed the unsubscribe form"
          },
          "customer": {
            "type": "string",
            "description": "The ID of the customer that's unsubscribing"
          }
        },
        "required": [
          "id",
          "url",
          "customer"
        ],
        "title": "The Unsubscribe Embed object"
      },
      "User": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "The ID of the user"
          },
          "phone_number": {
            "type": "string",
            "description": "The user's phone number"
          }
        },
        "required": [
          "id",
          "phone_number"
        ],
        "title": "The User object"
      }
    }
  }
}